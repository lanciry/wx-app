if (typeof HdGame == "undefined") {
	HdGame = {}
}(function(a) {
	a.isUrl = function(f, e) {
		if (typeof e == "undefined") {
			e = true
		}
		if (e && f.length >= 1 && f.charAt(0) == "/") {
			return true
		}
		if (e && f.length >= 1 && f.charAt(0) == "#") {
			return true
		}
		var d = /^(\w+:).+/;
		var c = d.test(f);
		return c
	};
	a.fixUrl = function(c, d) {
		if (a.isUrl(c, d)) {
			return c
		}
		return "http://" + c
	};
	a.encodeHtml = function(c) {
		return c && c.replace ? (c.replace(/&/g, "&amp;").replace(/ /g, "&nbsp;").replace(/\b&nbsp;+/g, " ").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\\/g, "&#92;").replace(/\'/g, "&#39;").replace(/\"/g, "&quot;").replace(/\n/g, "<br/>").replace(/\r/g, "")) : c
	};
	a.encodeUrl = function(c) {
		return typeof c === "undefined" ? "" : encodeURIComponent(c)
	};
	a.decodeHtml = function(c) {
		return c && c.replace ? (c.replace(/&nbsp;/gi, " ").replace(/&lt;/gi, "<").replace(/&gt;/g, ">").replace(/&#92;/gi, "\\").replace(/&#39;/gi, "'").replace(/&quot;/gi, '"').replace(/\<br\/\>/gi, "\n").replace(/&amp;/gi, "&")) : c
	};
	a.decodeUrl = function(c) {
		return typeof c === "undefined" ? "" : decodeURIComponent(c)
	};
	a.checkCharacterLen = function(c, g) {
		var h = g.val().replace(/[^\x00-\xff]/g, "**");
		var f = h.trim().length;
		var e = 0;
		for (var d = 0; d < f; d++) {
			e++
		}
		return e > c
	};
	a.checkTextLength = function(o, f, k) {
		var g;
		if (k) {
			g = f
		} else {
			g = f.val()
		}
		var m = g.replace(/[^\x00-\xff]/g, "**");
		var d = m.length;
		if (d < o) {
			return {
				isOverflow: false
			}
		}
		var j = m.substr(0, o);
		var h = 0;
		var l = "";
		for (var e = 0; e < j.length; e++) {
			var c = j.substr(e, 1);
			if (c == "*") {
				h++
			}
		}
		var n = 0;
		if (h % 2 == 0) {
			n = h / 2 + (o * 1 - h);
			l = g.substr(0, n)
		} else {
			n = (h - 1) / 2 + (o * 1 - h);
			l = g.substr(0, n)
		}
		if (k) {
			return {
				isOverflow: true,
				returnValue: l
			}
		} else {
			f.val(l)
		}
	};
	a.fadOut = function(c, d) {
		if (c.is(":visible")) {
			d && d();
			return
		}
		c.css("opacity", 0);
		c.show();
		c.addClass("poupFadIn");
		setTimeout(function() {
			c.removeClass("poupFadIn");
			c.css("opacity", 1);
			d && d()
		}, 200)
	};
	a.fadIn = function(c, d) {
		if (c.is(":hidden")) {
			d && d();
			return
		}
		c.css("opacity", 1);
		c.addClass("poupFadOut");
		setTimeout(function() {
			c.hide();
			c.removeClass("poupFadOut");
			c.css("opacity", 1);
			d && d()
		}, 200)
	};
	a.statusMsg = function(d, c, e) {
		if ((d == 4 || (d == 6 && g_config.style != 50)) && g_config.showHelpGuide) {
			$("#helpGuideBox").show();
			return
		}
		if ((d == 7 || d == 8) && g_config.showHelpGuide) {
			$("#helpGuideBox").show();
			return
		}
		var g = "",
			f;
		if (typeof d === "string") {
			g = d
		} else {
			if (d === 1) {
				g = "活动尚未开始";
				f = "开始时间为" + g_config.startTime
			} else {
				if (d === 3) {
					g = "活动已结束";
					f = "请关注期待下次活动"
				} else {
					if (d === 4) {
						g = "您今天已经没有抽奖机会了";
						f = "明天可继续抽奖哦";
						if (!e) {
							e = "14rem"
						}
					} else {
						if (d === 5) {
							g = "未授权用户无法进行游戏。"
						} else {
							if (d === 6) {
								g = "您的抽奖机会已经用完"
							} else {
								if (d === 7) {
									g = "您今天已经没有参与机会了";
									f = "明天可继续参与哦"
								} else {
									if (d === 8) {
										g = "您的参与机会已经用完";
										f = "详情留意活动说明"
									}
								}
							}
						}
					}
				}
			}
		}
		if (f && typeof c !== "string") {
			c = f
		}
		a.showMsg(g, c, e)
	};
	a.showMsg = (function() {
		var e = null;
		var g = '<div class="statusTip" style="display:none; opacity:0;"><div class="content"><div id="statusTip-msg"></div><div class="sTime">详情留意活动说明</div></div></div>';
		var c = $(g);
		var d = c.find("#statusTip-msg");
		var f = c.find(".sTime");
		var h = false;
		return function(k, i, j) {
			d.html(k);
			if (typeof i === "string") {
				f.text(i)
			} else {
				if (i) {
					f.hide()
				} else {
					f.show()
				}
			}
			if (j) {
				c.css("width", j)
			} else {
				c.css("width", "11.5rem")
			}
			if (!h) {
				$("body").append(c);
				h = true
			}
			clearTimeout(e);
			a.fadOut(c);
			e = setTimeout(function() {
				a.fadIn(c, function() {
					c.remove();
					h = false
				})
			}, 2000)
		}
	})();
	a.showMsgToast = function(f, d, e) {
		var c = $("<div class='msg-toast " + e + "' style='display: none;'>" + f + "</div>");
		window.top.$("body").append(c);
		c.fadeIn(300);
		setTimeout(function() {
			c.fadeOut(300, function() {
				c.remove()
			})
		}, d)
	};
	a.share = function() {
		if ($("#sharePanel").length > 0) {
			$("#sharePanel").show();
			return
		}
		$("body").append("<div id='sharePanel'></div>");
		$("#sharePanel").on("touchend touchstart", function() {
			$(this).hide()
		})
	};
	a.favorite = function() {
		a.logDog(1000045, 2);
		if ((g_config.wxAward && g_config.wxAward.genewxcard)) {
			return
		}
		if ($("#favoritePanel").length > 0) {
			$("#favoritePanel").show();
			return
		}
		$("body").append("<div id='favoritePanel'></div>");
		$("#favoritePanel").on("touchend touchstart", function(c) {
			setTimeout(function() {
				$("#favoritePanel").hide()
			}, 500)
		})
	};
	a.getLevelName = function(c) {
		switch (parseInt(c)) {
		case 1:
			return "一等奖";
		case 2:
			return "二等奖";
		case 3:
			return "三等奖";
		case 4:
			return "四等奖";
		case 5:
			return "五等奖";
		case 6:
			return "六等奖";
		case 7:
			return "七等奖";
		case 8:
			return "八等奖";
		case 900:
			return "安慰奖"
		}
	};
	a.getStatusName = function(c) {
		switch (c) {
		case 0:
			return "未领取";
		case 1:
			return "已核销";
		case 2:
			return "未核销";
		case 3:
			return "已过期";
		case 4:
			return "已作废";
		case 5:
			return "已失效"
		}
	};
	(function() {
		var e = null;
		_lastWrap = null, _stop = function(f) {
			if (f) {
				if (f.data("_guide")) {
					f.data("_guide").remove();
					f.removeData("_guide")
				}
			} else {
				if (e) {
					e.remove();
					e = null;
					_lastWrap && _lastWrap.removeData("_guide")
				}
			}
		};
		var d = function(j, l, m) {
				var g = $('<div class="ball-scale-multiple"><div></div><div></div><div></div></div>');
				if (j.css("position") === "static") {
					j.css("position", "relative")
				}
				if (typeof l === "object" && typeof l.x !== "undefined" && typeof l.y !== "undefined" && typeof l.w !== "undefined" && typeof l.h !== "undefined") {
					var k = Math.min(l.w, l.h) * (m || 1);
					g.children().css({
						width: k,
						height: k
					});
					g.css({
						left: l.x + (l.w - k) / 2,
						top: l.y + (l.h - k) / 2
					})
				} else {
					m = m || 0.8;
					var f = j.outerHeight();
					var h = j.outerWidth();
					var i = (l === "w" ? h / 2 : (l === "h" ? f / 2 : (l === "min" ? Math.min(f, h) / 2 : Math.max(f, h) / 2))) * m;
					g.css({
						left: h / 2 - i,
						top: f / 2 - i
					});
					g.children().css({
						width: 2 * i,
						height: 2 * i
					})
				}
				j.append(g);
				e = g;
				j.data("_guide", g);
				_lastWrap = j
			};
		var c = {
			play: d,
			stop: _stop
		};
		a.Guide = c
	})();
	a.homePoup = function(c) {
		if (c == 1) {
			$("#rankBox").show()
		} else {
			if (c == 3) {
				$("#awardBox").show()
			} else {
				if (c == 4) {
					$("#regAwardBox").show()
				}
			}
		}
		$("#poupInfoBox").show()
	};
	a.poupAjaxComplete = function(c) {
		var d = $(".ajaxLoadBar");
		d.addClass("ajaxComplete");
		$(".ajaxLoadBg").hide();
		setTimeout(function() {
			d.removeClass("ajaxLoad");
			d.removeClass("ajaxComplete")
		}, 500)
	};
	(function() {
		var p = {
			rankUrl: "",
			awardUrl: "",
			getRegAwardUrl: "",
			mhaveScore: 0,
			openId: "",
			gameId: 0,
		};
		var f = {
			menuLen: "",
			slideBarWidth: "",
			slideBarMaxWidth: "",
			marginLeft: false,
			firstTouchRank: true,
			firstTouchAward: true,
			firstTouchWinList: true,
			hasInitEvent: false,
		};
		var o = {
			isLoad: false,
			isRankAll: false,
			start: 0,
			num: 0,
			limit: 99
		};
		a.initChangePoup = function(q) {
			q && $.extend(p, q);
			if (_manage) {
				$("#Award_Round_Dot").show()
			}
			f.menuLen = 0;
			$(".poupTitleBox .poupTitleMune").each(function() {
				if ($(this).css("display") == "block") {
					$(this).removeClass("hide");
					f.menuLen++
				} else {
					$(this).addClass("hide")
				}
			});
			$("#awardBox").css("height", $("#poupInfoBox").height() - $(".poupHead").height());
			$(".popTabBox").css("width", $(window).width() * f.menuLen);
			var r = null;
			$(".poupTitleBox .poupTitleMune").not(".hide").each(function(v, x) {
				var u = $(this).attr("_flag");
				for (var w = 0; w < $("#poupInfoBox .poupMain").length; w++) {
					var t = $("#poupInfoBox .poupMain").eq(w);
					if (t.attr("_flag") == u) {
						t.show();
						if (r) {
							r = r.add(t)
						} else {
							r = t
						}
						return
					}
				}
			});
			var s = _manage ? $(window).width() : (100 / f.menuLen + "%");
			$("#poupInfoBox .poupMain").css("width", s);
			$("#poupInfoBox .poupMain").not(r).hide();
			$(".poupTitleBox .poupTitleMune,.poupTitleBox .slideBarTip").css("width", 13.25 / f.menuLen + "rem");
			f.slideBarWidth = parseInt($(".poupTitleBox .poupTitleMune").css("width"));
			f.slideBarMaxWidth = parseInt($(".poupTitleBox .slideBarTip").css("max-width"));
			if (f.slideBarWidth > f.slideBarMaxWidth) {
				f.marginLeft = true
			}
			$("#poupInfoBox .poupMain").height($("#poupInfoBox").height() - $(".poupHead").outerHeight() - g_rem);
			if (!f.hasInitEvent) {
				l();
				f.hasInitEvent = true
			}
		};

		function l() {
			var r = _manage ? "click" : "touchstart";
			var q = $(".poupTitleBox .poupTitleMune");
			q.on(r, function() {
				if (q.length == q.not(".hide").length) {
					var t = $(this).index()
				} else {
					var t = q.filter(":visible").index(this);
					t = t < 0 ? 0 : t
				}
				var s = parseInt($(this).attr("_flag"));
				a.changePoup(s, t)
			});
			$("#rankBox").scroll(function(s) {
				if (_manage) {
					return
				}
				if (o.isClose) {
					return
				}
				if ($("#rankHeight").height() - $("#rankHeight").height() / 3 <= $(window).height() + $("#rankBox").scrollTop()) {
					if (!o.isLoad && !o.isRankAll) {
						o.isLoad = true;
						i()
					}
				}
			})
		}
		a.changePoup = function(r, s) {
			o.isClose = false;
			$("#poupInfoBox").show();
			$(".poupTitleMune").removeClass("checked");
			if (r == 5 && p.hasReport == true) {
				$("#informResultBox h3").text("你已经投诉过了！");
				$("#informResultBox").show()
			} else {
				if (typeof s === "number") {
					var t = $(".poupTitleMune").filter(":visible").eq(s);
					t.addClass("checked");
					r = parseInt(t.attr("_flag"))
				} else {
					$(".poupTitleBox .poupTitleMune").filter(":visible").each(function(v, w) {
						if ($.trim($(this).attr("_flag")) == r) {
							s = v;
							$(this).addClass("checked")
						}
					})
				}
			}
			if (_manage) {
				var u = $.trim($(".poupTitleMune").eq(s).find(".item").text());
				var q = parent.$("#editActive .topBar .column");
				if (u == "活动说明") {
					q.each(function() {
						if ($(this).find(".name").text().trim() == "活动奖品") {
							$(this).addClass("checked");
							parent.$(".topBar .transitionPanel").css("left", ($(this).offset().left + 2) + "px")
						}
					})
				} else {
					q.each(function() {
						var v = $.trim($(this).find(".name").text());
						if (v == u) {
							parent.$(".topBar .transitionPanel").css("left", ($(this).offset().left + 2) + "px");
							q.removeClass("checked");
							$(this).addClass("checked")
						}
					})
				}
			}
			if (f.marginLeft) {
				$(".poupSlideBar .slideBarTip").css("left", ((13.25 / f.menuLen) * s + (f.slideBarWidth - f.slideBarMaxWidth) / 40) + "rem")
			} else {
				$(".poupSlideBar .slideBarTip").css("left", (13.25 / f.menuLen) * s + "rem")
			}
			e(r);
			$(".popTabBox").css("left", -$(window).width() * s)
		};

		function e(q) {
			$("#poupInfoBox").removeClass("poupFadOut").addClass("poupFadIn");
			if (!_manage) {
				$(".gameBox,.home,.body").addClass("overflow-y-hidden");
				if (g_config.style != 55) {
					g_config.showSkillSup && $(".bottomSkill").hide()
				}
			}
			$(".poupClose").off("touchend");
			setTimeout(function() {
				$(".poupClose").on("touchend", function(s) {
					s.preventDefault();
					s.stopPropagation();
					f.firstTouchRank = true;
					f.firstTouchAward = true;
					f.firstTouchWinList = true;
					o.isClose = true;
					o.isRankAll = false;
					o.num = o.start = 0;
					$("#rankInfoBox").html("");
					$(".poupTitleMune").removeClass("checked");
					$(".poupTitleMune").eq(0).addClass("checked");
					var r = $("#poupInfoBox");
					r.removeClass("poupFadIn").addClass("poupFadOut");
					if (!_manage) {
						$(".gameBox,.home,.body").removeClass("overflow-y-hidden");
						g_config.showSkillSup && $(".bottomSkill").show()
					}
					setTimeout(function() {
						r.hide();
						$(".popTabBox").css("left", 0);
						$(".poupSlideBar .slideBarTip").css("left", (f.slideBarWidth - f.slideBarMaxWidth) / 40 + "rem")
					}, 100);
					hg.fire("hidePoup", q)
				})
			}, 300);
			if (q === 1) {
				d(q)
			} else {
				if (q === 2) {
					g(q)
				} else {
					if (q === 3) {
						k(q)
					} else {
						if (q === 4) {
							h(q)
						} else {
							if (q === 5) {
								j(q)
							}
						}
					}
				}
			}
			hg.fire("showPoup", q)
		}
		function n() {
			var q = $("#loadingTxt").html();
			if (q === "正在加载中..." || q === "") {
				$("#loadingTxt").html("正在加载中.")
			} else {
				if (q === "正在加载中.") {
					$("#loadingTxt").html("正在加载中..")
				} else {
					$("#loadingTxt").html("正在加载中...")
				}
			}
			o.timer = setTimeout(arguments.callee, 300)
		}
		function m() {
			$("#rankHeight").find("#loadingTxt").remove();
			clearTimeout(o.timer)
		}
		function i(q) {
			if ($("#loadingTxt").length == 0) {
				$("#rankHeight").append('<div id="loadingTxt" class="rankInfo" style="text-align: left; margin: 0 auto; line-height:2.5rem; font-size:0.6rem; width: 3.8rem; ">正在加载中...</div>');
				n()
			} else {
				return
			}
			$.ajax({
				type: "post",
				url: p.rankUrl + "&start=" + o.start + "&limit=" + o.limit + "&playerId=" + g_config.playerId,
				error: function() {
					if (o.num == 0) {
						a.poupAjaxComplete(q)
					}
					o.isLoad = false
				},
				success: function(t) {
					a.tlog("creatRankList", t);
					var u = $.parseJSON(t);
					var r = u.rankList;
					var v = u.rank;
					var s = $("#rankInfoBox");
					if (u.isRankAll) {
						o.isRankAll = true
					}
					if (o.num == 0) {
						a.poupAjaxComplete(q)
					}
					setTimeout(function() {
						if (v == 0) {
							$("#rank").text("无")
						} else {
							$("#rank").text(v + "位")
						}
						a.logDog(1000010);
						var w = r.length;
						if (w == 0) {
							$("#noRank").show()
						} else {
							$("#rankMain").show();
							for (var y = 0; y < r.length; y++) {
								if (o.start + y + 1 >= rankShowNum) {
									o.isRankAll = true
								}
								var E = r[y].info.length > 0 ? $.parseJSON(r[y].info).headImg : null;
								var x = E == null ? "" : "src='" + E + "'";
								var D = "";
								if (g_config.isDoubleGame) {
									var z = r[y].info.length > 0 ? $.parseJSON(r[y].info).headImgB : null;
									var C = z == null ? "" : "src='" + z + "'";
									D = '<img class="userImg" ' + C + " />"
								}
								var B = '<tr class="rankInfo"><td>No.' + (o.start + y + 1) + '</td><td><div><img class="userImg" ' + x + " />" + D + '</div></td><td class="userName">' + r[y].name + "</td><td >" + r[y].achievement + '<span class="scoreUnit">' + g_config.scoreUnit + "</span></td></tr>";
								s.append(B)
							}
							if (o.isRankAll && v > rankShowNum) {
								var x = g_config.headImg ? "src='" + g_config.headImg + "'" : "";
								var A = '<tr class="rankInfo" style="line-height:0.85rem"><td colspan="4" style="padding-bottom:0.35rem">......</td></tr><tr class="rankInfo"><td>No.' + v + '</td><td><div><img class="userImg" ' + x + ' /></div></td><td class="userName">' + g_config.userName + "</td><td >" + (g_config.scoreType ? a.currentScore : parseInt(a.currentScore)) + '<span class="scoreUnit">' + g_config.scoreUnit + "</span></td></tr>";
								s.append(A)
							}
						}
						o.isLoad = false;
						o.num++;
						o.start = o.num * (o.limit + 1);
						hg.fire("updateRankList", u)
					}, 500);
					if (o.num == 0) {
						f.firstTouchRank = false
					}
					m()
				}
			})
		}
		function d(w) {
			if (g_config.isDoubleGame) {
				$("#rankBox").addClass("isDoubleGame")
			}
			if (_manage) {
				var x = [{
					name: "magazine",
					achievement: 999
				}, {
					name: "hubert",
					achievement: 999
				}, {
					name: "lvox",
					achievement: 999
				}, {
					name: "hth",
					achievement: 999
				}, {
					name: "monica",
					achievement: 999
				}, {
					name: "lzz",
					achievement: 999
				}, {
					name: "william",
					achievement: 999
				}, {
					name: "sinki",
					achievement: 999
				}, {
					name: "weiqizhou",
					achievement: 999
				}, {
					name: "candyq",
					achievement: 999
				}, {
					name: "jarvis",
					achievement: 999
				}, {
					name: "johnvi",
					achievement: 999
				}, {
					name: "tomato",
					achievement: 999
				}, {
					name: "tina",
					achievement: 999
				}];
				$("#rankMain").show();
				a.homePoup(w);
				var s = $("#rankInfoBox");
				s.find(".rankInfo").remove();
				var u = "";
				v = typeof(v) == "undefined" || v.trim() == "" ? g_config.scoreUnit : v;
				if (g_config.isDoubleGame) {
					u = '<div class="userImg manImg"></div><div class="userImg girlImg"></div>'
				} else {
					u = '<div class="userImg manImg"></div>'
				}
				var q = window.parent.document;
				var r = $(q).find("#setGameUnit").val();
				var v = typeof(r) == null || r === "" ? g_config.scoreUnit : Fai.encodeHtml($(q).find("#setGameUnit").val());
				for (var t = 0; t < x.length; t++) {
					var y = '<tr class="rankInfo"><td>No.' + (t + 1) + "</td><td>" + u + '</td><td class="userName">' + a.encodeHtml(x[t].name) + "</td><td >" + x[t].achievement + '<span class="scoreUnit">' + v + "</span></td></tr>";
					s.append(y)
				}
				var z = parseInt($("#showRankNum").text()) - 1;
				$("#rankInfoBox tr.rankInfo:gt(" + z + ")").hide()
			} else {
				a.logDog(1000010, 0);
				if (f.firstTouchRank) {
					$(".ajaxLoadBg").show();
					$(".ajaxLoadBar").addClass("ajaxLoad");
					$("#noRank").hide();
					$("#rankMain").hide();
					i(w)
				}
			}
		}
		function g(q) {
			if (!_manage) {
				a.logDog(1000009);
				if (skillSupportType == 2 || skillSupportType == 3) {
					if (g_config.authVer == HdVerDef.FREE) {
						a.logDog(1000069, 1)
					} else {
						if (g_config.authVer == HdVerDef.BJ) {
							a.logDog(1000069, 3)
						} else {
							if (g_config.authVer == HdVerDef.BY) {
								a.logDog(1000069, 5)
							}
						}
					}
					a.logDog(1000028, 2)
				}
			}
			if (isLimitDraw && (drawTimesLimit == drawTotalLimit)) {
				$("#explainBox").find(".dayFont").hide();
				$("#explainBox").find(".drawTotalFont").hide()
			}
			if (!isLimitDraw) {
				$("#explainBox").find(".drawTotalFont").hide()
			}
			$("#ruleBox").show();
			$("#poupInfoBox").show();
			if (!p.mhaveScore) {
				$("#haveScore").hide()
			}
			if (gameType == 3 && g_config.isCheckPlayTimes) {
				$("#explainPlayInfoBox").show()
			} else {
				$("#explainPlayInfoBox").hide()
			}
		}
		function k(x) {
			if (!_manage) {
				a.logDog(1000011, 0)
			}
			var q = new Array();
			var u = $("#awardInfo");
			$("#awardInfoBox").css("height", $("#awardBox").height() - $("#awardBox .attentionBox").height() - 18);
			$("#poupInfoBox,#awardBox").show();
			if (!_manage && g_config.showSkillSup) {
				if (g_config.authVer == HdVerDef.FREE) {
					a.logDog(1000069, 0)
				} else {
					if (g_config.authVer == HdVerDef.BJ) {
						a.logDog(1000069, 2)
					} else {
						if (g_config.authVer == HdVerDef.BY) {
							a.logDog(1000069, 4)
						}
					}
				}
				a.logDog(1000028, 1);
				typeof g_config.isAOpenId == "number" && a.logDog(1000115, 1 + g_config.isAOpenId)
			}
			if (g_config.aid == 7171826 && g_config.showSkillSup) {
				a.logDog(1000062, 0)
			} else {
				if (g_config.aid == 8566249 && g_config.showSkillSup) {
					a.logDog(1000067, 0)
				}
			}
			g_config.showMenu && a.logDog(1000036);
			if (_manage) {
				var w = parent.awardList[0];
				var s = w.cbt.substring(0, 10).replace("-", ".").replace("-", ".");
				var y = w.cet.substring(0, 10).replace("-", ".").replace("-", ".");
				var r = w.style;
				var z = w.name;
				var A = w.awardtype;
				var t = "使用期限";
				if (A == 2) {
					t = "兑奖期限"
				}
				if (A == 5 || A == 3) {
					t = "领取期限"
				}
				var v = '<div class="codeInfoBox" ><div class="djqImgBox"></div><div class="isEmptyAward ellipsis" style="width: 11rem;margin-left:0.6rem;">' + a.encodeHtml(r) + "：" + a.encodeHtml(z) + '</div><div class="codeperiod" style="margin: 0.25rem 0.6rem;line-height:1.4rem;"><span>' + a.encodeHtml(t) + "</span>：" + s + " 至 " + y + '</div><div class="goDetailIcon"></div><div class="awardWrap"></div><div style="color:#ecb208;line-height:0.6rem;margin-left:0.6rem;">未核销</div></div>';
				u.html("");
				u.append(v);
				a.homePoup(x)
			} else {
				q.push("gameId=", p.gameId);
				q.push("&openId=", p.openId);
				if (g_config.isDoubleGame) {
					q.push("&openIdB=", a.otherOpenId)
				}
				if (f.firstTouchAward) {
					$(".ajaxLoadBg").show();
					$(".ajaxLoadBar").addClass("ajaxLoad");
					$.ajax({
						type: "post",
						url: p.awardUrl,
						data: q.join(""),
						error: function() {
							a.poupAjaxComplete(x)
						},
						success: function(D) {
							a.poupAjaxComplete(x);
							a.tlog("poupAward", D);
							var B = $.parseJSON(D);
							$("#Award_Round_Dot").hide();
							a.logDog(1000011);
							if (B.success) {
								a.showAwardDetail(B.list)
							} else {
								$("#awardInfo").html('<div style="line-height: 2.6rem; padding-left: 0.05rem;">暂无中奖纪录</div>')
							}
							if (B.userInfo && (B.userInfo.ausername || B.userInfo.aphone || B.userInfo.aadress)) {
								$("#awardContactInfo").show();
								if (B.userInfo.ausername) {
									$("#awardContactInfo .contactName").show();
									$("#awardContactInfo .contactName span").text(B.userInfo.ausername)
								}
								if (B.userInfo.aphone) {
									$("#awardContactInfo .contactPhone").show();
									$("#awardContactInfo .contactPhone span").text(B.userInfo.aphone)
								}
								if (B.userInfo.aadress) {
									var C = a.checkTextLength(14, B.userInfo.aadress, true);
									if (C.isOverflow) {
										$("#awardContactInfo .contactAddress span").text(C.returnValue + "...")
									} else {
										$("#awardContactInfo .contactAddress span").text(B.userInfo.aadress)
									}
									$("#awardContactInfo .contactAddress").show()
								}
							}
							f.firstTouchAward = false
						}
					})
				}
			}
		}
		function c(r, q) {
			var s = r.repalce(/-/g, "/");
			s = new Date(s).getTime();
			return s > q
		}
		a.showAwardDetail = function(H) {
			var r = $("#awardInfo");
			var y = "";
			r.html("");
			var t = $("#resule-gift-sucImg").data("openCode");
			var q = null;
			for (var E = 0; E < H.length; E++) {
				var A = H[E];
				var s = $.parseJSON(A.awardInfo);
				var C = s.awardtype;
				var x = "使用期限";
				var z = "优惠码";
				var J = "收藏优惠码";
				var K = "门店地址";
				var B = "使用须知";
				var D = "优惠券详情";
				if (C == 2) {
					x = "兑奖期限";
					z = "兑奖码";
					J = "收藏兑奖码";
					K = "兑奖地址";
					D = "兑奖券详情";
					B = "兑奖须知"
				}
				if (C == 5 || C == 3) {
					x = "领取期限";
					z = "口令码";
					D = "兑奖须知";
					J = "收藏口令码"
				}
				if (s.genewxcard) {
					var I = true;
					var L = A.depositTime;
					if (L && L < Date.parse(new Date())) {
						I = false
					}
					J = (I ? "放入" : "打开") + "微信卡券";
					$("#awardCollectionBtn").attr("isWxCard", true)
				}
				var F = (s.cbt).substring(0, 10).replace("-", ".").replace("-", ".");
				var G = (s.cet).substring(0, 10).replace("-", ".").replace("-", ".");
				A.collectionBtn = J;
				A.addressName = K;
				A.awardCusText = D;
				A.titleNotice = B;
				A.codeName = z;
				A.codeEndTime = G;
				A.codeBgTime = F;
				A.awardTypeName = x;
				var v = (A.custom && A.custom.length > 0) ? A.custom : A.code;
				var w = A.level;
				var u = A.awardName;
				if (A.anwei) {
					w = A.awardLevel;
					u = A.award;
					v = (A.cusCode && A.cusCode.length > 0) ? A.cusCode : A.code1
				}
				if (A.isTrash) {
					A.codeStatus = 4
				}
				A.awardCode = v;
				y = '<div id="codeInfo' + E + '" class="codeInfoBox" _level="' + w + '"><div class="djqImgBox"></div><div class="isEmptyAward ellipsis" style="width: 11rem;margin-left:0.6rem;font-size:0.7rem;">' + a.encodeHtml(A.awardStyle) + "：" + a.encodeHtml(u) + '</div><div class="codeperiod" style="margin: 0.25rem 0.6rem;line-height:1.4rem;"><span>' + a.encodeHtml(x) + "</span>：" + F + " 至 " + G + '</div><div class="goDetailIcon"></div><div class="awardWrap"></div><div style="color: #ecb208;margin-left:0.6rem;">' + a.getStatusName(A.codeStatus) + "</div></div>";
				r.append(y);
				$("#codeInfo" + E).data("data", A);
				if (t == v || _manage) {
					q = A
				}
			}
			if (q) {
				a.openAwardDetail(q);
				$("#resule-gift-sucImg").removeData("openCode")
			}
		};
		a.openAwardDetail = function(t) {
			if (!t || !t.awardInfo) {
				t = $(this).data("data")
			}
			$(".codeInfoBox").removeClass("checked");
			$(this).addClass("checked");
			var q = $.parseJSON(t.awardInfo);
			g_config.award = t;
			g_config.wxAward = q;
			if (g_config.afterLinkModify && (a.shouldRegInfo(2, arguments, this) || a.shouldRegInfo(3, arguments, this) || a.shouldRegInfo(4, arguments, this))) {
				return
			} else {
				if (typeof q.continfo !== "undefined") {
					if ((t && ((gameType == 0 || gameType == 4 || gameType == 5) && g_config.wxAward.oplink))) {
						var v = q.continfo;
						var C = v & 1;
						var s = v & 2;
						var A = v & 4;
						var w = C && !g_config.awardUsername;
						var u = s && !g_config.awardPhone;
						var y = A && !g_config.awardAddress;
						if (w || u || y) {
							a.aUserInfo.show(arguments, this);
							return
						}
					}
				} else {
					if (!g_config.awardUsername && !g_config.awardPhone && !g_config.awardAddress && g_config.award && ((gameType == 0 || gameType == 4) && g_config.wxAward.oplink)) {
						a.aUserInfo.show(arguments, this);
						return
					}
				}
			}
			var E = $("#awardDetailBox");
			var r = $("#ticketDetailBox");
			$("#codeStatusInfo").html("商家已将该兑奖码设置为作废<br>详情请联系商家");
			if (t.codeStatus == 4) {
				$("#codeStatusBtn").html("已作废");
				$("#codeStatusBox").show();
				$("#codeDetailInfoBox").hide()
			} else {
				if (t.codeStatus == 1) {
					$("#codeStatusBtn").html("已核销");
					$("#codeStatusBox").show();
					$("#codeDetailInfoBox").hide();
					$("#codeStatusInfo").hide();
					if (q.genewxcard) {
						$("#awardCollectionBtn").hide()
					}
				} else {
					if (t.codeStatus == 5) {
						$("#codeStatusBtn").html("已失效");
						$("#codeStatusInfo").html("红包已失效，详细请联系商家");
						$("#codeStatusBox").show();
						$("#codeDetailInfoBox").hide()
					} else {
						if (t.codeStatus == 3) {
							$("#codeStatusBtn").html("已过期");
							$("#codeStatusBox").show();
							$("#codeDetailInfoBox").hide();
							$("#codeStatusInfo").hide()
						} else {
							if (t.theGiftDate >= 0) {
								$("#codeStatusBox").hide();
								$("#codeDetailInfoBox").show();
								$("#codeStatusInfo").show()
							} else {
								var z = Math.ceil((t.theGiftDate * -1) / (1000 * 60 * 60 * 24));
								var x = "";
								if (q.awardtype == 0 || q.awardtype == 1) {
									x = "优惠券"
								}
								if (q.awardtype == 2) {
									x = "兑奖券"
								}
								if (q.awardtype == 5) {
									x = "口令码"
								}
								$("#codeStatusTips .giftNameA").text(x);
								$("#codeStatusTips .targetDateMin").text(z);
								$("#codeStatusBox").show();
								$("#codeDetailInfoBox").hide();
								$("#codeStatusInfo").hide();
								$("#codeStatusBtn").html("未到兑奖时间").css("width", "5.5rem");
								$("#codeStatusTips").show()
							}
						}
					}
				}
			}
			E.find(".awardName").text(q.name);
			E.find(".awardSubTitle").text(q.stl);
			E.find(".awardCodeTime em").text(t.awardTypeName);
			E.find(".awardCodeTime .codeBgTime").text(t.codeBgTime);
			$("#codeName").text(t.codeName);
			$("#awardCollectionBtn").text(t.collectionBtn);
			var D = t.gameid || t.gameId;
			E.find(".awardCodeTime .codeEndTime").text(t.codeEndTime);
			var B = "http://" + a.gameDomain + "/manage/qrCode.jsp?cmd=qrurl&siteUrl=" + a.encodeUrl(t.awardLevel == 900 ? ("id=" + t.id + "&code=" + t.code1 + "&gameId=" + D) : ("code=" + t.awardCode + "&gameId=" + D));
			E.find(".codeImg").attr("src", B);
			E.find(".code").text(t.awardCode);
			E.find(".code").attr("code", t.code);
			E.find(".codeOptInfo").text(q.opti);
			if (p.afterWxCard) {
				$(".awardCusText").show();
				$(".awardCusBtn").show();
				if (q.awardtype == 5 || q.awardtype == 1 || (q.awardtype == 2 && q.cashtype != 2)) {
					r.find(".addressLine").hide();
					E.find(".awardCusText").show();
					if (q.awardtype == 1) {
						E.find(".awardCusBtn .text").text("商城地址")
					} else {
						E.find(".awardCusBtn .text").text("兑奖地址")
					}
					if (q.awardtype == 2 && q.cashtype == 1 && q.onlinect == 1) {
						$("#QRImg_1").attr("src", q.onlinewxnum);
						$("#awardCusBtnInfo").attr("href", "###");
						E.find("#awardCusBtnInfo").off("click").on("click", function() {
							$("#newAttentionMask").show()
						})
					} else {
						if (q.awardtype == 5 || (q.awardtype == 2 && q.cashtype == 3)) {
							$("#awardDetailBox").find(".codeOptInfo").hide();
							$("#awardDetailBox").find(".wxCashOptInfo").show();
							$("#attentionCashBtn").show();
							$("#awardCusBtnInfo").hide();
							$("#webCashBtn").hide();
							$("#QRImg_1").attr("src", g_config.qrCodeUrl);
							$("#attentionCashBtn").attr("href", "###");
							E.find("#attentionCashBtn").off("click").on("click", function() {
								$("#newAttentionMask").show()
							})
						} else {
							if (q.awardtype == 2 && q.cashtype == 4) {
								$("#webCashBtn").show();
								$("#awardCusBtnInfo").hide();
								$("#attentionCashBtn").hide();
								$("#awardDetailBox").find(".wxCashOptInfo").hide();
								$("#awardDetailBox").find(".codeOptInfo").show();
								if (!a.isUrl(q.cashsite)) {
									q.cashsite = a.fixUrl(q.cashsite)
								}
								$("#webCashBtn").attr("href", q.cashsite)
							} else {
								E.find("#awardCusBtnInfo").attr("href", q.cashsite)
							}
						}
					}
					r.find(".itemList .address").html(q.cashsite);
					if (!$.trim(q.servicepho) && !$.trim(q.cashinfo) && (!q.tlmt || q.tlmt == "[8]" || q.tlmt == "[1,2,3,4,5,6,7]")) {
						E.find(".awardCusText").hide()
					}
					r.find(".itemList .timelimit").parents(".itemList").toggle(q.awardtype != 5);
					if (q.awardtype == 5) {
						$(".wxCashOptInfo").text("复制口令发送到公众号");
						$("#attentionCashBtn .text").text("马上领取")
					} else {
						$(".wxCashOptInfo").text("发送兑奖码到公众号进行兑奖");
						$("#attentionCashBtn .text").text("关注兑奖")
					}
				} else {
					r.find(".itemList .address").text(q.cashsite.replace("http://", ""));
					if (q.oct) {
						E.find(".awardCusBtn .text").text(q.btn);
						E.find("#awardCusBtnInfo").attr("href", q.btl)
					} else {
						$(".awardCusBtn").hide()
					}
				}
				E.find(".awardCusText .text").html(t.awardCusText);
				r.find(".ticketitle .text").html(t.awardCusText);
				r.find(".itemList .beginTime").html(t.codeBgTime.replace(/-/g, "."));
				r.find(".itemList .endTime").html(t.codeEndTime.replace(/-/g, "."));
				r.find(".itemList .timelimit").text(a.changeTimeLimit(q.tlmt));
				r.find(".itemList .titleAdress").html(t.addressName);
				r.find(".itemList .tel").text(q.servicepho);
				r.find(".itemList .titleNotice").text(t.titleNotice);
				r.find(".itemList .notice").html('<pre style="word-wrap: break-word;">' + a.encodeHtml(q.cashinfo) + "</pre>")
			} else {
				if (q.optx) {
					E.find(".awardCusText .text").text(q.txn);
					E.find("#awardCusTextInfo").text(q.txc)
				} else {
					$(".awardCusText").hide()
				}
				if (q.oct) {
					E.find(".awardCusBtn .text").text(q.btn);
					E.find("#awardCusBtnInfo").attr("href", q.btl)
				} else {
					$(".awardCusBtn").hide()
				}
			}
			if (typeof q.cashtype === "undefined" || (q.awardtype != 1 && q.cashtype == 2)) {
				a.logDog(1000085);
				if (q.attention == 3) {
					$("#awardCusBtnInfo").attr("href", "###");
					$("#QRImg_1").attr("src", q.attentionimg);
					$("#awardCusBtnInfo").off("touchend").on("touchend", function() {
						a.logDog(1000086);
						$("#newAttentionMask").show()
					})
				} else {
					if (q.attention == 2) {
						$("#awardCusBtnInfo").attr("href", q.btl)
					}
				}
			}
			a.log(q);
			if (typeof q.opqrc === "undefined" || q.opqrc) {
				$("#awardDetailBox .codeImg ").show()
			} else {
				$("#awardDetailBox .codeImg,#awardDetailBox .codeDetailImgBox").hide()
			}
			a.wxConfig.setWxShareUrlArg(["fromFav", t.awardCode]);
			a.logDog(1000056);
			a.logDog(1000045, 1);
			$("#awardDeailBg").show();
			$("#awardDetailBox").show();
			setTimeout(function() {
				$("#awardDeailBg").hide()
			}, 800)
		};
		a.shouldRegInfo = function(r, t, u) {
			var q = false;
			if (g_config.afterLinkModify) {
				if (g_config.linkInfoType != 1 && g_config.linkInfoType == r) {
					q = true
				}
				if (a._isZhuliPlayer && (g_config.linkInfoType == 2 || g_config.linkInfoType == 3)) {
					q = false
				}
			} else {
				if ((gameType == 3 || gameType == 1) && g_config.openAwardLinkNoDraw) {
					q = true
				}
			}
			if (q && !s()) {
				a.aUserInfo.show(t, u);
				return true
			}
			return false;

			function s() {
				if (!g_config.awardUsername && !g_config.awardPhone && !g_config.awardAddress) {
					return false
				}
				return true
			}
		};

		function h(q) {
			$("#regAwardBox").show();
			if (_manage) {
				a.homePoup(q);
				var u = [];
				var t = ["lvox、hubert", '<span style="color:#fff000">magazine</span>、tina', "monica、hth"];
				var s = $(".regAwardList");
				s.find(".playerName").html("");
				s.each(function(v) {
					$(this).find(".playerName").html(t[v])
				})
			} else {
				a.logDog(1000034);
				var r = p.getRegAwardUrl;
				if (g_config.isDoubleGame) {
					var r = r + "&openIdB=" + a.otherOpenId
				}
				if (f.firstTouchWinList) {
					$(".ajaxLoadBg").show();
					$(".ajaxLoadBar").addClass("ajaxLoad");
					$.ajax({
						type: "post",
						url: r,
						error: function() {
							a.poupAjaxComplete(q)
						},
						success: function(v) {
							a.tlog("poupRegAward", v);
							var w = $.parseJSON(v);
							a.poupAjaxComplete(q);
							$("#Mingdan_Round_Dot").hide();
							setTimeout(function() {
								var A = [];
								var x = $(".regAwardList");
								x.find(".playerName").html("");
								$("#noRegAward").hide();
								$("#regAwardMain").show();
								for (var y = 0; y < x.length; y++) {
									var z = {};
									z.name = [];
									A.push(z)
								}
								if (w.length == 0) {
									$("#noRegAward").show();
									$("#regAwardMain").hide();
									return
								}
								$(w).each(function() {
									var D = $(this)[0].isSelf;
									var F = $(this)[0].awardLevel;
									var C = F - 1;
									if (F == 900) {
										C = x.length - 1
									}
									var E = "";
									if (D) {
										E = 'style="color:#fff000;"'
									}
									var B = "<span " + E + ">" + $(this)[0].name + "</span>";
									A[C].name.push(B)
								});
								for (var y = 0; y < A.length; y++) {
									x.eq(y).find(".playerName").append(A[y].name.join("、"))
								}
								$("#regAwardMain").show()
							}, 500);
							f.firstTouchWinList = false
						}
					})
				}
			}
		}
		function j(q) {
			$("#informBox").show();
			$(".unPublish").hide();
			$("#inform-reason-page").show();
			$("#inform-desc-page").hide();
			$("#next-inform-btn").hide();
			$("#inform-reason-box .reasonItem").removeClass("checked");
			$("#informResultBox .confirm-btn").off("touchend").on("touchend", function() {
				event.preventDefault();
				if (!_manage) {
					$(".gameBox,.home,.body").removeClass("overflow-y-hidden");
					g_config.showSkillSup && $(".bottomSkill").show()
				}
				$("#informBox").hide();
				$("#informResultBox").hide();
				$(".unPublish").show();
				$("#inform-reason-box .reasonItem").removeClass("checked");
				$("#inform-reason-box .reasonItem em").hide();
				$("#poupInfoBox").hide();
				hg.fire("hidePoup", q)
			});
			$("#cancel-inform-btn").off("touchend").on("touchend", function() {
				event.preventDefault();
				var r = $("#poupInfoBox");
				r.removeClass("poupFadIn").addClass("poupFadOut");
				if (!_manage) {
					$(".gameBox,.home,.body").removeClass("overflow-y-hidden");
					g_config.showSkillSup && $(".bottomSkill").show()
				}
				r.hide();
				$(".unPublish").show();
				$("#informBox").hide();
				hg.fire("hidePoup", q)
			})
		}
		$("#inform-reason-box .reasonItem").on("touchend", function() {
			var q = $(this).attr("_index");
			a.logDog(1000068, q);
			$("#inform-reason-box .reasonItem").removeClass("checked");
			$(this).addClass("checked");
			$("#next-inform-btn").show()
		});
		$("#next-inform-btn").on("touchend", function() {
			$("#inform-reason-page").hide();
			$("#inform-desc-page").show();
			$("#spxdPage").addClass("imp-hide")
		});
		$("#submit-inform-btn").on("touchend", function() {
			if (!p.hasReport) {
				var r = $("#inform-desc-box #informDesc").val();
				r = $.trim(r);
				if (r == null || r == "") {
					a.showMsgToast("描述不能为空", 2000);
					return
				} else {
					if (r.length > 50) {
						a.showMsgToast("填写超出限制", 2000);
						return
					} else {
						$.ajax({
							type: "post",
							url: p.informUrl,
							error: function(s) {
								a.tlog("submit-inform-btn-err", s)
							},
							success: function(s) {
								a.tlog("submit-inform-btn", s);
								p.hasReport = true;
								$("#informResultBox h3").text("投诉成功");
								$("#informResultBox").show()
							}
						})
					}
				}
			} else {
				$("#informResultBox h3").text("你已经投诉过了！");
				$("#informResultBox").show()
			}
			var q = $("#poupInfoBox");
			q.removeClass("poupFadIn").addClass("poupFadOut");
			setTimeout(function() {
				$("#spxdPage").removeClass("imp-hide")
			}, 400)
		});
		$("#awardContactInfo .updateBtn").on("touchend", function() {
			a.aUserInfo.show()
		})
	})();
	(function() {
		var f = false;
		a.sortRuleBox = {
			init: d,
			addBtn: c,
		};

		function d(i) {
			var h = $("#ruleBox");
			var g = h.find(".poupLine").sort(function(l, j) {
				var m = i.indexOf($(l).data("sortkey"));
				var k = i.indexOf($(j).data("sortkey"));
				if (m == -1 || k == -1) {
					return 0
				}
				return m > k ? 1 : -1
			});
			h.append(g)
		}
		function c() {
			a.addModuleLayer("#ruleBox .poupLine", {
				name: "下移",
				onshow: function(g) {
					var h = g.target;
					if (h.next().length == 0) {
						$(this).hide()
					} else {
						$(this).show()
					}
				},
				onclick: function(h) {
					var i = h.data.target;
					var g = i.next();
					if (g.length != 0) {
						e(i, g)
					}
				}
			});
			a.addModuleLayer("#ruleBox .poupLine", {
				name: "上移",
				onshow: function(g) {
					var h = g.target;
					if (h.prev().length == 0) {
						$(this).hide()
					} else {
						$(this).show()
					}
				},
				onclick: function(h) {
					var i = h.data.target;
					var g = i.prev();
					if (g.length != 0) {
						e(g, i)
					}
				}
			})
		}
		function e(i, h) {
			if (f) {
				return
			}
			f = true;
			a.removeAllEditLayer();
			var g = i.height();
			var j = h.height();
			i.animate({
				top: j + 0.7 * g_rem
			}, 300);
			h.animate({
				top: -g - 0.7 * g_rem
			}, 300, function() {
				f = false;
				i.insertAfter(h);
				i.css("top", 0);
				h.css("top", 0)
			})
		}
	})();
	(function() {
		var c = {};
		a.lastDisplayStatus = "";
		c.show = function(d, f) {
			a.lastDisplayStatus = $(".gameBgBox").css("display");
			$(".gameBgBox").hide();
			$("#awardUserInfoBg").data({
				_aUserInfoArg: d,
				_aUserInfoThis: f
			}).show();
			var e = g_config.ajaxUrl.replace("/ajax/", "");
			if (window.top.$("#contactInputIframe").length == 0) {
				$("#awardUserInfoBg").append('<iframe id="contactInputIframe" frameborder="0" scrolling="no" src="' + e + "/contactInfo.jsp?afterLinkModify=" + g_config.afterLinkModify + "&awardLinkMsg=" + a.encodeUrl(a._awardLinkMsg) + '" style="height: 100%; width: 100%;"></iframe>')
			}
			$("#spxdPage").addClass("spxdPageHide");
			$("#nameInput").val(g_config.awardUsername);
			$("#phoneInput").val(g_config.awardPhone);
			$("#addressInput").text(g_config.awardAddress);
			if (!d) {
				$("#awardUserInfoBg").removeData("_aUserInfoArg")
			}
		};
		c.hide = function() {
			window.top.$(".gameBgBox").css("display", parent.HdGame.lastDisplayStatus);
			var e = window.top.$("#awardUserInfoBg");
			e.hide();
			$("#spxdPage").removeClass("spxdPageHide");
			var h = e.data("_aUserInfoArg");
			if (!h) {
				return
			}
			if (d(h)) {
				var g = h[2];
				if (g && g.info) {
					g.info = $.parseJSON(g.info);
					g.info.ausername = g_config.awardUsername;
					g.info.aphone = g_config.awardPhone;
					g.info.aadress = g_config.awardAddress;
					g.info = $.toJSON(g.info)
				}
			}
			c.afterUserInfoHide = true;
			var f = e.data("_aUserInfoThis");
			h.callee.apply(f, h);
			setTimeout(function() {
				c.afterUserInfoHide = false
			}, 0);
			setTimeout(function() {
				window.top.$("#contactInputIframe").remove()
			}, 510);

			function d(i) {
				if (typeof gameOver != "undefined" && i.callee === gameOver) {
					return true
				}
				if (typeof startBtnAjax != "undefined" && i.callee === startBtnAjax) {
					return true
				}
				if (typeof luckDraw != "undefined" && i.callee === luckDraw) {
					return true
				}
				return false
			}
		};
		a.aUserInfo = c
	})();
	a.showLotsWait = function(c, e) {
		var d = $("#lots-wait-Box #lots-wait-hint-num");
		d.text(c);
		$("#lots-wait-Box").show();
		var f = setInterval(function() {
			c--;
			d.text(c);
			if (c <= 0) {
				clearInterval(f);
				$("#lots-wait-Box").hide();
				e()
			}
		}, 1000)
	};
	(function() {
		var c = Math.max($(window).height() / $(window).width(), $(window).width() / $(window).height()) > 22 / 16;
		var g = {
			startStatus: false,
			exposeFlag: false,
			disable: false,
			result_disable: false,
			gift_disable: false,
		};
		var f = {
			drawType: false,
			home: function() {},
			again: function() {},
			giftInit: function(h) {
				h && h()
			}
		};
		var e = (function() {
			var m = 1.5;
			var j = 0;
			var i, o, n;
			var l, k, h;
			return function(q) {
				if (!g.startStatus) {
					return
				}
				var s = new Date().getTime();
				if ((s - j) > 100) {
					$("input").blur();
					var p = q.accelerationIncludingGravity;
					j = s;
					i = p.x;
					o = p.y;
					n = p.z;
					var r = Math.sqrt(i * i + o * o + n * n) / Math.sqrt(l * l + k * k + h * h);
					if (r > m) {
						g.startStatus = false;
						f.giftInit(function(t) {
							hg.sound.play("yiy");
							setTimeout(function() {
								g.showGift(t)
							}, 1500)
						})
					}
					l = i;
					k = o;
					h = n
				}
			}
		})();
		var d = {};
		g.initArg = function(h) {
			if (this.disable) {
				return
			}
			$.extend(d, h)
		};
		g.init = function(h) {
			if (this.disable) {
				return
			}
			$.extend(f, h);
			$.extend(f, d);
			this.giftBox = $("#resule-gift-box");
			this.resuleBox = $(".resuleBox");
			this.statusBox = $("#resule-status-box");
			var l = this;
			var i = $("#resule-status-lots").width();
			var k = $("#resule-status-lots").height();
			var n = $("#resule-status-lots").attr("src");
			var m = $("#lots-wait-img").width();
			var j = $("#lots-wait-img").height();
			$("#lots-wait-img").css({
				width: i / (6.15 * g_rem) * m,
				height: k / (12.4 * g_rem) * j,
				"background-image": 'url("' + n + '")'
			});
			if (a.currentScore >= g_config.scoreSet && g_config.scoreSet != "") {
				a.isplaySucess = true
			} else {
				a.isplaySucess = false
			}
			$(".resule-status-home , .resule-gift-home, .resule-gift-home2").on("touchend", function() {
				event.preventDefault();
				event.stopPropagation();
				if (_manage) {
					return
				}
				a.logDog(1000015);
				a.fadIn(l.resuleBox, function() {
					l.giftBox.hide();
					l.statusBox.hide();
					$(".gameBox,.home,.body").removeClass("overflow-y-hidden");
					if (g_config.showSkillSup) {
						a.logDog(1000028, 0);
						$(".bottomSkill").show();
						if (g_config.aid == 7171826) {
							a.logDog(1000062, 2)
						} else {
							if (g_config.aid == 8566249) {
								a.logDog(1000067, 2)
							}
						}
					}
				});
				f.home()
			});
			$("#resule-status-lotsHand .waitDrawBtn").off("touchend").on("touchend", function() {
				g.startStatus = false;
				f.giftInit(function(o) {
					l.showGift(o)
				})
			});
			$(".resule-gift-draw").off("touchend").on("touchend", function() {
				if (_manage) {
					return
				}
				window.addEventListener("devicemotion", e, false);
				g.exposeFlag && a.logDog(1000025, 29);
				g.exposeFlag && a.logDog(1000026, 29);
				if (l.resuleArg.isLimitDrawTotal && l.resuleArg.totalCount === 0) {
					a.statusMsg(6);
					return
				} else {
					if (l.resuleArg.count === 1) {
						a.statusMsg(4);
						if (!g_config.showHelpGuide) {
							f.home()
						}
						return
					}
				}
				$("#resule-status-scrollWrap,#resule-gift-box").hide();
				$("#resule-status-lotsBox,#resule-status-box").show();
				setTimeout(function() {
					g.startStatus = true;
					l.resuleArg.count > 0 && l.resuleArg.count--
				}, 1000);
				clearTimeout(a.lotTimer);
				$("#resule-status-lotsHand .shakeHand,#resule-status-lotsHand .shakeTxt").show();
				$("#resule-status-lotsHand .waitDrawBtn").hide();
				a.lotTimer = setTimeout(function() {
					if (drawStatusLuckDraw) {
						$("#resule-status-lotsHand .shakeHand,#resule-status-lotsHand .shakeTxt").hide();
						$("#resule-status-lotsHand .waitDrawBtn").show()
					}
				}, 5000);
				g.exposeFlag = false
			});
			if (f.drawType === 0 || f.drawType === 2) {
				$(".resule-gift-home").css({
					width: "10rem",
					height: "2rem",
					"line-height": "2rem"
				});
				$(".resule-gift-home2").css({
					width: "4.75rem",
					height: "2rem",
					"line-height": "2rem"
				});
				this.giftBox.find(".resule-gift-seeRank").remove();
				this.show = this.showGift
			} else {
				if (f.drawType === 1) {
					$(".resule-status-seeRank,.resule-gift-seeRank").on("touchstart", function() {
						event.preventDefault();
						event.stopPropagation();
						if (_manage) {
							return
						}
						window.showRank()
					});
					$(".resule-status-again").on("touchstart", function() {
						event.preventDefault();
						event.stopPropagation();
						if (_manage) {
							return
						}
						a.logDog(1000016);
						if (gameType == 3 && g_config.isCheckPlayTimes && PlayInfo.getTotalRemainTimes() <= 0) {
							a.statusMsg(8);
							return
						}
						if (gameType == 3 && g_config.isCheckPlayTimes && PlayInfo.getTodayRemainTimes() <= 0) {
							a.statusMsg(7);
							return
						}
						$(".gameBox,.home,.body").removeClass("overflow-y-hidden");
						if (!g_config.isDoubleGame) {
							a.fadIn(l.resuleBox, function() {
								l.giftBox.hide();
								l.statusBox.hide()
							})
						}
						f.again()
					});
					hg.sound.load(_resRoot + "/image/yaoyiyao.wav", "yiy");
					window.addEventListener("devicemotion", e, false);
					if (m_debug || g_config.test) {
						$("#resule-status-lotsHand").on("touchstart", function() {
							g.startStatus = false;
							f.giftInit(function(o) {
								l.showGift(o)
							})
						})
					}
					this.giftEvent = function() {
						if (_manage) {
							return
						}
						if (g_config.afterLinkModify && a.shouldRegInfo(3, arguments, this)) {
							return
						}
						g.exposeFlag && a.logDog(1000014);
						if (l.resuleArg.isLimitDrawTotal && l.resuleArg.totalCount === 0) {
							a.statusMsg(6);
							return
						} else {
							if (l.resuleArg.count === 0) {
								a.statusMsg(4);
								return
							}
						}
						$("#resule-status-scrollWrap").hide();
						$("#resule-status-lotsBox").show();
						$("#resule-status-lotsHand .shakeHand,#resule-status-lotsHand .shakeTxt").show();
						$("#resule-status-lotsHand .waitDrawBtn").hide();
						a.resulePoup.statusBox.show();
						a.resulePoup.resuleBox.show();
						g.startStatus = true;
						a.lotTimer = setTimeout(function() {
							if (drawStatusLuckDraw) {
								$("#resule-status-lotsHand .shakeHand,#resule-status-lotsHand .shakeTxt").hide();
								$("#resule-status-lotsHand .waitDrawBtn").show()
							}
						}, 5000);
						g.exposeFlag = false
					};
					$(".resule-status-gift").on("touchstart", this.giftEvent);
					this.regEvent = function() {
						if (_manage) {
							return
						}
						if (a.shouldRegInfo(3, arguments, this)) {
							return
						}
						a.logDog(1000032);
						$(".ajaxLoadBg").show();
						$(".ajaxLoadBar").addClass("ajaxLoad");
						var o = f.regUrl;
						if (g_config.isDoubleGame) {
							o += "&openIdB=" + a.otherOpenId
						}
						$.ajax({
							type: "post",
							url: o,
							error: function() {
								a.otherAjaxComplete()
							},
							success: function(q) {
								var p = $.parseJSON(q);
								a.otherAjaxComplete();
								if (p.isOutofTestNum) {
									a.statusMsg("活动尚未发布", "最多测试人数为100人！");
									return
								}
								if (!p.isOutofRegNum) {
									a.isReg = true;
									var p = $.parseJSON(q);
									if (p.success) {
										$(".resule-foot-one .resule-status-again").html("继续刷记录");
										$(".resule-foot-one .resule-status-reg").hide();
										$(".resule-foot-one .resule-status-again").show();
										$("#resule-status-count").hide();
										$("#resule-sucReg").show()
									}
								} else {
									a.statusMsg("报名人数已经满了")
								}
							}
						})
					};
					$(".resule-status-reg").on("touchstart", this.regEvent);
					this.show = this.showResult
				}
			}
		};
		g.showResult = function(k) {
			if (this.disable || this.result_disable) {
				return
			}
			var j = {
				isSuc: false,
				gameScore: 0,
				minScore: 0,
				bestScore: 10,
				rank: 10,
				count: 3,
				beat: 99,
				notreal: false,
				gameType: 0
			};
			var i = $.extend(j, k);
			this.resuleArg = i;
			!i.notreal && (a.currentRank = i.rank);
			!i.notreal && (a.currentScore = i.bestScore);
			a.wxConfig.setWxShareByStatus();
			$("#resule-status-scrollWrap").show();
			$("#resule-status-lotsBox,#resule-gift-box").hide();
			$(".resule-one-button").hide();
			$("#resule-status-playinfo").hide();
			this.statusBox.show();
			a.fadOut(this.resuleBox);
			var l = $(".resuleArg");
			var h = i.isReg;
			if (!i.notreal && g_config.sortType == (i.gameScore >= g_config.drawLimitDef)) {
				if (typeof a.oss_aof === "undefined") {
					a.oss_aof = 0
				}
				a.oss_aof++;
				if (a.oss_aof >= 2) {
					a.logDog(1000033, g_config.failSrcId);
					a.oss_aof = 0
				}
			}
			$("#resule-status-scrollWrap").css("height", $(window).height() - $("#resule-status-box .attentionBox").height() - 1.5 * g_rem);
			if (!_manage && g_config.showSkillSup) {
				if (g_config.authVer == HdVerDef.FREE) {
					a.logDog(1000069, 0)
				} else {
					if (g_config.authVer == HdVerDef.BJ) {
						a.logDog(1000069, 2)
					} else {
						if (g_config.authVer == HdVerDef.BY) {
							a.logDog(1000069, 4)
						}
					}
				}
				a.logDog(1000028, 1);
				typeof g_config.isAOpenId == "number" && a.logDog(1000115, 1 + g_config.isAOpenId)
			}
			if (g_config.aid == 7171826 && g_config.showSkillSup) {
				a.logDog(1000062, 0)
			} else {
				if (g_config.aid == 8566249 && g_config.showSkillSup) {
					a.logDog(1000067, 0)
				}
			}
			if (i.gameType == 1 || i.gameType == 3) {
				g_config.showMenu && a.logDog(1000036)
			}
			if (!_manage) {
				$(".gameBox,.home,.body").addClass("overflow-y-hidden");
				$(".bottomSkill").is(":visible") && $(".bottomSkill").hide()
			}
			if (i.gameType == 3) {
				$("#resule-foot-box").css("padding-bottom", "1rem");
				if (i.gameScore == "fail") {
					$("#resule-status-bird").show();
					$("#resule-status-ribbon").removeClass("resule-status-ribbon").addClass("resule-status-faiRibbon");
					$("#resule-status-bird").removeClass("resule-status-birdfly").addClass("resule-status-birdfly");
					$("#resule-status-box .resule-bgLight").hide();
					$(".resule-status-userImg").css("border-color", "#B5B5B5");
					$("#resule-status-body .beat-Percent").hide();
					if (i.rank == 0) {} else {
						$("#resule-status-body .result-scoreUnit").show()
					}
					l.eq(0).text("无");
					if (l.eq(2).text().length == 0) {
						l.eq(2).text(i.bestScore);
						l.eq(3).text(i.rank > 0 ? i.rank : "无")
					} else {
						if (l.eq(0).text() == "无") {
							$("#resule-status-body .youraward .result-scoreUnit").hide()
						} else {
							$("#resule-status-body .result-scoreUnit").show()
						}
					}
					a.isplaySucess = false
				} else {
					$("#resule-status-bird").hide();
					$(".resule-status-userImg").css("border-color", "#70D572");
					$("#resule-status-ribbon").removeClass("resule-status-faiRibbon").addClass("resule-status-ribbon");
					$("#resule-status-box .resule-bgLight").show();
					$("#resule-status-body .beat-Percent span").text(i.beat);
					$("#resule-status-body .beat-Percent").show();
					l.eq(0).text(i.gameScore);
					l.eq(2).text(i.bestScore);
					l.eq(3).text(i.rank);
					$("#resule-status-body .result-scoreUnit").show();
					a.isplaySucess = true
				}
				$(".resule-status-minscore").hide();
				$("#resule-status-count").hide();
				$(".resule-foot-one .resule-status-gift").hide();
				$(".resule-foot-one .resule-status-reg").hide();
				$(".resule-foot-one .resule-status-again").show();
				$(".resule-foot-two .resule-status-again").hide();
				$(".resule-foot-two .resule-status-home").show();
				if (gameType == 3 && g_config.isCheckPlayTimes) {
					$("#resule-status-playinfo").show()
				} else {
					$("#rank_showRule").show()
				}
			} else {
				if (i.gameScore === "fail") {
					$(".resuleArg-fail").text(i.minScore);
					$("#resule-status-body").hide();
					$("#resule-status-other").show()
				} else {
					$("#resule-status-body").show();
					$("#resule-status-other").hide()
				}
				if (i.isSuc) {
					a.isplaySucess = true;
					$("#resule-status-bird").hide();
					$("#resule-status-ribbon").removeClass("resule-status-faiRibbon").addClass("resule-status-ribbon");
					$(".resule-status-userImg").css("border-color", "#70D572");
					$(".resule-status-minscore").hide();
					$("#resule-status-count").show();
					if (i.gameType == 0) {
						$(".resule-foot-one .resule-status-gift").show();
						$(".resule-foot-one .resule-status-again").hide();
						$(".resule-foot-two .resule-status-again").show();
						$(".resule-foot-two .resule-status-home").hide();
						a.logDog(1000027)
					} else {
						if (i.gameType == 4) {
							$(".resule-foot-one .resule-status-send").show();
							$(".resule-foot-two .resule-status-again").hide();
							$(".resule-foot-two .resule-status-home").show();
							$("#resule-status-count").hide()
						} else {
							if (i.gameType == 1) {
								$("#resule-status-count").hide();
								$("#resule-foot-box").css("margin-top", "0.6rem");
								$(".resule-foot-two .resule-status-again").hide();
								$(".resule-foot-two .resule-status-home").show();
								a.logDog(1000035);
								if (!h) {
									$(".resule-foot-one .resule-status-reg").show()
								} else {
									$(".resule-foot-one .resule-status-again").html("继续刷记录");
									$(".resule-foot-one .resule-status-reg").hide();
									$(".resule-foot-one .resule-status-again").show();
									$("#resule-sucReg").show()
								}
							}
						}
					}
					g.exposeFlag = true;
					$("#resule-status-box .resule-bgLight").show();
					l.eq(0).text(i.gameScore);
					l.eq(1).text(i.minScore);
					l.eq(2).text(i.bestScore);
					l.eq(3).text(i.rank);
					l.eq(4).text(i.totalCount);
					l.eq(5).text(i.count);
					l.eq(6).text(i.count);
					$("#resule-status-body .dayDrawCount").text(i.count);
					$("#resule-status-body #totalDrawCount").text(i.totalCount);
					$("#msxbSucTip").text("恭喜你获得密室小能手称号！");
					$("#resule-status-body .beat-Percent span").text(i.beat);
					$("#resule-status-body .beat-Percent").show()
				} else {
					$("#resule-status-bird").show();
					$("#resule-status-ribbon").removeClass("resule-status-ribbon").addClass("resule-status-faiRibbon");
					$(".resule-status-userImg").css("border-color", "#B5B5B5");
					$(".resule-status-minscore").show();
					$("#resule-status-count").hide();
					$("#resule-status-box .resule-bgLight").hide();
					$(".resule-foot-one .resule-status-gift").hide();
					$(".resule-foot-one .resule-status-reg").hide();
					$(".resule-foot-one .resule-status-again").show();
					$(".resule-foot-two .resule-status-again").hide();
					$(".resule-foot-two .resule-status-home").show();
					$("#resule-status-bird").removeClass("resule-status-birdfly").addClass("resule-status-birdfly");
					l.eq(0).text(i.gameScore);
					l.eq(1).text(i.minScore);
					l.eq(2).text(i.bestScore);
					l.eq(3).text(i.rank);
					l.eq(4).text(i.count);
					$("#resule-status-body .beat-Percent").hide();
					a.isplaySucess = false
				}
			}
			hg.fire("showResult", i, l)
		};
		g.showGift = function(l) {
			if (this.disable || this.gift_disable) {
				return
			}
			var j = {
				isSuc: false,
				giftName: "",
				giftStyle: "",
				giftCode: 0,
				giftImage: "",
				awardImageW: "6rem",
				awardImageH: "6rem",
				awardTypeNum: 0,
				awardIndex: 1,
				genewxcard: false
			};
			var t = $.extend({}, j, l);
			if (this.statusBox) {
				a.fadIn(this.statusBox)
			}
			$("#resule-gift-sucImg").data("openCode", t.giftCode);
			a.fadOut(this.resuleBox);
			a.fadOut(this.giftBox);
			if ((gameType == 0 || gameType == 4 || gameType == 5) && !_manage) {
				var u = $(".cannotGetThePriceBox").height();
				var i = $(".resuleBox").height() - $("#resule-gift-box").find(".attentionBox").height() - 2.5 * g_rem;
				if (u > i) {
					$(".cannotGetThePriceBox").height(i);
					var n = 16 * g_rem - parseFloat($("#faiImgBox img").css("left"));
					var k = i - parseFloat($("#faiImgBox img").css("top"));
					var r = $("#faiImgBox img").width() / $("#faiImgBox img").height();
					var s = $("#faiImgBox img").height();
					if (s > k) {
						if ((k * r) > n) {
							$("#faiImgBox img").height(n / r).width(n)
						} else {
							$("#faiImgBox img").height(k).width(k * r)
						}
					}
				}
			}
			$(".TellToOther").toggle(t.isSuc);
			$(".menuAgain,.menuBack,.backListen,.repeatDraw,.TellToOther").css({
				bottom: $("#resule-gift-box").find(".attentionBox").height(),
				"line-height": "1.9rem"
			});
			if ($(".menuAgain").length > 0) {
				$("#resule-gift-scrollWrap").css("height", $(window).height() - $("#resule-gift-box .attentionBox").height() - $(".menuAgain").outerHeight(true) - 1.6 * g_rem)
			} else {
				$("#resule-gift-scrollWrap").css("height", $(window).height() - $("#resule-gift-box .attentionBox").height() - $(".menuBtnBox").outerHeight(true) - 1.6 * g_rem)
			}
			var q = $(".gifArg");
			if (!_manage && g_config.showSkillSup) {
				if (g_config.authVer == HdVerDef.FREE) {
					a.logDog(1000069, 0)
				} else {
					if (g_config.authVer == HdVerDef.BJ) {
						a.logDog(1000069, 2)
					} else {
						if (g_config.authVer == HdVerDef.BY) {
							a.logDog(1000069, 4)
						}
					}
				}
				a.logDog(1000028, 1);
				typeof g_config.isAOpenId == "number" && a.logDog(1000115, 1 + g_config.isAOpenId)
			}
			if (g_config.aid == 7171826 && g_config.showSkillSup) {
				a.logDog(1000062, 0)
			} else {
				if (g_config.aid == 8566249 && g_config.showSkillSup) {
					a.logDog(1000067, 0)
				}
			}
			g_config.showMenu && a.logDog(1000036);
			if (t.isSuc) {
				$("#resule-gift-box").css("height", "auto");
				$("#resule-gift-scrollWrap").show();
				$("#faiImgBox").hide();
				$("#Award_Round_Dot").css("display", "inline-block");
				a.currentAward = t.giftName;
				a.currentAwardStyle = t.giftStyle;
				a.wxConfig.setWxShareByStatus();
				this.hasGift = true;
				q.eq(0).text(t.giftStyle);
				q.eq(1).text(t.giftName);
				$("#resule-gift-sucImg").css({
					width: t.awardImageW,
					height: t.awardImageH,
					margin: "1.6rem auto"
				});
				$("#lightPoint").css("top", parseFloat(t.awardImageH) / 2 + 1.8 + "rem");
				$("#click-view").css("top", parseFloat(t.awardImageH) / 2 + 2.5 + "rem");
				if (t.awardIndex == 900) {
					if (g_config.comfort.comAwardtype == 0 || g_config.comfort.comAwardtype == 1) {
						$(".awardCodeTime em").text("使用期限");
						$("#codeName").text("优惠码");
						if (g_config.afterWxCard) {
							$(".awardCusText .text").text("优惠券详情")
						}
					} else {
						$(".awardCodeTime em").text("兑奖期限");
						$("#codeName").text("兑奖码");
						$("#awardCollectionBtn").text("收藏兑奖券");
						if (g_config.afterWxCard) {
							$(".awardCusText .text").text("兑奖券详情")
						}
					}
					$("#resule-gift-sucImg").attr("src", g_config.comfort.comimg)
				} else {
					if (!g_config.award) {
						g_config.award = g_config.awardList[t.awardIndex - 1];
						g_config.wxAward = g_config.awardList[t.awardIndex - 1]
					}
					var o = _manage ? t.giftImage : g_config.awardList[t.awardIndex - 1].aimg;
					$("#resule-gift-sucImg").attr("src", o);
					if (t.awardTypeNum == 0 || t.awardTypeNum == 1) {
						$(".awardCodeTime em").text("使用期限");
						$("#codeName").text("优惠码");
						if (g_config.afterWxCard) {
							$(".awardCusText .text").text("优惠券详情")
						}
					} else {
						$(".awardCodeTime em").text("兑奖期限");
						$("#codeName").text("兑奖码");
						$("#awardCollectionBtn").text("收藏兑奖券");
						if (g_config.afterWxCard) {
							$(".awardCusText .text").text("兑奖券详情")
						}
					}
					if (g_config.award.genewxcard) {
						$(".awardCodeTime em").text("兑奖期限");
						$("#codeName").text("兑奖码");
						var m = true;
						var p = awardInfo.depositTime;
						if (p && p < Date.parse(new Date())) {
							m = false
						}
						var h = (m ? "放入" : "打开") + "微信卡券";
						$("#awardCollectionBtn").text(h).attr("isWxCard", true)
					}
				}
				a.logDog(1000003, 0);
				a.logObjDog(1000092, 3, g_config.gameId);
				if (!_manage) {
					$(".gameBox,.home,.body").addClass("overflow-y-hidden");
					$(".bottomSkill").is(":visible") && $(".bottomSkill").hide()
				}
			} else {
				$("#resule-gift-box").css("height", $(window).height() - $("#resule-gift-box .attentionBox").height());
				$("#resule-gift-scrollWrap,#resule-status-lotsBox").hide();
				$("#faiImgBox").show()
			}
			if (g_config.haveAward) {
				$("#myAwardBtn").show()
			}
		};
		a.resulePoup = g
	})();
	a.otherAjaxComplete = function() {
		var c = top.$(".ajaxLoadBar");
		c.addClass("ajaxComplete");
		setTimeout(function() {
			c.removeClass("ajaxLoad");
			c.removeClass("ajaxComplete");
			top.$(".ajaxLoadBg").hide()
		}, 500)
	};
	(function() {
		var i = (function() {
			var j = 1;
			return function(k) {
				var l = k.data("layerId");
				if (!l) {
					l = "layerId-" + j;
					k.addClass(l);
					k.data("layerId", l);
					j++
				}
			}
		})();

		function e(k) {
			var l = $("." + k);
			var m = ["Left", "Right", "Top", "Bottom"];
			var j = "";
			$.each(m, function(n, o) {
				if ($("#" + k + "moveFrame" + o).length == 0) {
					j += '<div id="' + k + "moveFrame" + o + '" class="moveFrame" style="border-' + o.toLowerCase() + '-width:1px"></div>'
				}
			});
			if (j) {
				$("body").append(j);
				f(l)
			}
		}
		function f(j, p) {
			var k = j.data("layerId");
			var m = j.offset().left;
			var s = j.offset().top;
			var q = j.outerWidth();
			var n = j.outerHeight();
			$("#" + k + "moveFrameLeft").css({
				left: m,
				top: s,
				width: 0,
				height: n,
				borderLeftWidth: 1
			});
			$("#" + k + "moveFrameRight").css({
				left: m + q - 1,
				top: s,
				width: 0,
				height: n,
				borderRightWidth: 1
			});
			$("#" + k + "moveFrameTop").css({
				left: m,
				top: s,
				width: q,
				height: 0,
				borderTopWidth: 1
			});
			$("#" + k + "moveFrameBottom").css({
				left: m,
				top: s + n - 1,
				width: q,
				height: 0,
				borderBottomWidth: 1
			});
			if (p) {
				var u = j.closest(".ui-wrapper");
				if (u.length == 0) {
					u = j
				}
				var r = u.find(".recoverBtn");
				var o = false;
				if (q < 2 * r.width()) {
					o = true
				}
				if (n < 2 * r.height()) {
					o = true
				}
				if (o && !j.data("_minRecoverBtn")) {
					j.data("_minRecoverBtn", true);
					u.find(".ui-resizable-imgTopRightTip").css({
						backgroundPositionX: 0,
						backgroundPositionY: 11,
						right: -11,
						top: -11
					});
					u.find(".ui-resizable-imgTopLeftTip").css({
						backgroundPositionX: 11,
						backgroundPositionY: 11,
						left: -11,
						top: -11
					});
					u.find(".ui-resizable-imgBottomLeftTip").css({
						backgroundPositionX: 11,
						backgroundPositionY: 0,
						left: -11,
						bottom: -11
					});
					u.find(".ui-resizable-imgBottomRightTip").css({
						backgroundPositionX: 0,
						backgroundPositionY: 0,
						right: -11,
						bottom: -11
					});
					r.css("right", -24)
				} else {
					if (j.data("_minRecoverBtn")) {
						j.data("_minRecoverBtn", false);
						u.find(".ui-resizable-imgTopRightTip").css({
							backgroundPositionX: 11,
							backgroundPositionY: 0,
							right: 0,
							top: 0
						});
						u.find(".ui-resizable-imgTopLeftTip").css({
							backgroundPositionX: 0,
							backgroundPositionY: 0,
							left: 0,
							top: 0
						});
						u.find(".ui-resizable-imgBottomLeftTip").css({
							backgroundPositionX: 0,
							backgroundPositionY: 11,
							left: 0,
							bottom: 0
						});
						u.find(".ui-resizable-imgBottomRightTip").css({
							backgroundPositionX: 11,
							backgroundPositionY: 11,
							right: 0,
							bottom: 0
						});
						r.css("right", 3)
					}
				}
			}
		}
		a.removeMoveFrame = function(j) {
			$("#" + j + "moveFrameLeft,#" + j + "moveFrameRight,#" + j + "moveFrameTop,#" + j + "moveFrameBottom").remove();
			$$("#imgSizeShow").hide()
		};
		a.removeAllEditLayer = function() {
			$(".moveFrame").remove();
			$(".moduleLayer").remove()
		};
		a.initModuleLayer = d(function(m, l, o, k, n, p, j) {
			i(m);
			m.addClass("defBgColor");
			m.data("mouseover", function(r) {
				var q = $(this).data("layerId");
				clearTimeout($(this).data("initModuleTimer"));
				if (a.ResizeDoc || $("#" + q + "moduleLayer").length > 0) {
					return
				}
				a.removeAllEditLayer();
				e(q);
				h(q)
			});
			m.off("mouseover").off("mouseleave").on("mouseover", m.data("mouseover")).on("mouseleave", function(r) {
				if ($(this).data("moduleLayerClose")) {
					return
				}
				var q = $(this).data("layerId");
				$(this).data("initModuleTimer", setTimeout(function() {
					if (!a.ResizeDoc) {
						a.removeMoveFrame(q);
						$("#" + q + "moduleLayer").remove()
					}
				}, 100))
			});
			if (j || l != -2) {
				a.addModuleLayer(m, {
					name: typeof j === "string" ? j : "编辑",
					onclick: function(r) {
						parent.Edit.showEditByGame.call(r.data.target, l, o, k);
						parent.operateFlagList[17] = true;
						a.logDog(1000078, 3);
						if (o == "awardSetting") {
							var q = $(this).data("layerId");
							a.removeMoveFrame(q);
							$("#" + q + "moduleLayer").remove()
						}
						return false
					}
				})
			}
			if (n) {
				a.addModuleLayer(m, {
					name: typeof n === "string" ? n : "样式",
					onclick: function(q) {
						parent.Edit.Css.showCssByGame.call(q.data.target, o, p);
						parent.operateFlagList[21] = true;
						a.logDog(1000078, 5);
						return false
					}
				})
			}
			m = null
		});
		a.addModuleLayer = d(function(l, k) {
			var j = l.data("hd-moduleLayerList");
			if (!j) {
				j = []
			}
			j.push(k);
			l.data("hd-moduleLayerList", j)
		});

		function h(k) {
			var o = k + "moduleLayer";
			var p = $("." + k);
			var m = p.data("hd-moduleLayerList");
			if (!m) {
				return
			}
			$("#" + o).remove();
			var j = $("<div id='" + o + "' class='moduleLayer' _mouseIn='0'></div>");
			$("body").append(j);
			for (var q = m.length - 1; q >= 0; q--) {
				var r = m[q];
				if (r && r.onclick) {
					var l;
					if (r.html) {
						l = $(r.html)
					} else {
						var n = r["class"] ? (" " + r["class"]) : "";
						l = $("<a class='item tool" + n + "' hidefocus='true' href='javascript:;'>" + r.name + "</a>")
					}
					j.append(l);
					r.data = r.data || {};
					r.data.target = p;
					l.on("click", r.data, r.onclick);
					r.onshow && r.onshow.call(l, r.data)
				}
			}
			j.css("margin", 0);
			g(p, j);
			j.mouseover(function() {
				clearTimeout(p.data("initModuleTimer"))
			}).mouseleave(function(s) {
				p.data("initModuleTimer", setTimeout(function() {
					a.removeMoveFrame(k);
					$("#" + o).remove();
					var t = p.siblings(".ui-resizable-handle,.recoverBtn");
					t = (t.length > 0) ? t : (p.find(".ui-resizable-handle,.recoverBtn"));
					t.siblings(".ui-resizable-handle,.recoverBtn").hide()
				}, 100))
			});
			return j
		}
		function g(m, n) {
			if (!n) {
				n = $(".moduleLayer")
			}
			if (n.length < 1) {
				return
			}
			var j = m.outerWidth();
			var k = m.offset().left + j - n.outerWidth();
			if (k < 0) {
				k = 0
			}
			if (m.offset().left < $(window).width() && m.offset().left + j > $(window).width()) {
				k = $(window).width() - n.outerWidth()
			}
			n.css("left", k);
			var l = (m.offset().top - n.height() - 1);
			n.css("top", l > 0 ? l : 0 + "px")
		}
		a.moduleSlaveImgResize = d(function(m, n, o) {
			var j = o || "body";
			if (m.parents(".home").length > 0 || m.parents(".zlEnterHome").length > 0) {
				j = "#limitRange"
			}
			m.parent("div.ui-wrapper").css({
				padding: "0"
			});
			m.resizable("destroy");
			var k = $(m).parents("div.imgContainer");
			var l = k.find(".slaveImg");
			if (k.length == 0) {
				k = m
			}
			if (l.length == 0) {
				l = m
			}
			i(l);
			l.data("defData", n);
			m.resizable($.extend({
				handles: "n,e,s,w,ne,nw,sw,se",
				autoHide: true,
				maxWidth: 318,
				maxHeight: 504,
				minWidth: 20,
				minHeight: 20,
				aspectRatio: true,
				containment: j,
				alsoResize: m,
				create: function(p, r) {
					var t = $(this);
					var q = 0;
					if (Math.abs(t.width() - parseRemToPx(n.width)) > 1 || Math.abs(t.height() - parseRemToPx(n.height)) > 1) {
						l.attr("resize", 1)
					}
					t.css({
						position: "relative",
						"float": "none",
						"z-index": "100"
					});
					if (t.width() < 40 || t.height() < 40) {
						t.css("padding", "2px")
					} else {
						t.css("padding", "0")
					}
					t.append("<a class='recoverBtn' href='javascript:;'></a>");
					t.find(".recoverBtn").on("click", function(u) {
						$(this).hide();
						l.attr("resize", 0);
						t.add(l).css(n);
						a.logDog(1000078, 4);
						l.data("hd-resizable-recover") && l.data("hd-resizable-recover").fireWith(l[0], [u, n]);
						setTimeout(function() {
							g(l);
							f(l, true)
						}, 10)
					});
					t.attr("_from", l.attr("id"));
					(function() {
						var w = [
							["s", "Bottom"],
							["n", "Top"],
							["w", "Left"],
							["e", "Right"]
						];
						for (var v = 0; v < 4; v++) {
							t.children(".ui-resizable-" + w[v][0]).addClass("ui-resizable-img" + w[v][1] + "Tip").css({
								"z-index": "9030"
							});
							if (v < 2) {
								for (var u = 2; u < 4; u++) {
									t.children(".ui-resizable-" + w[v][0] + w[u][0]).addClass("ui-resizable-img" + w[v][1] + w[u][1] + "Tip").css({
										"z-index": "9030"
									})
								}
							}
						}
					})();
					var s = t.parent();
					t.children(".ui-resizable-handle").mousedown(function(v) {
						var u = s.attr("href");
						if (typeof u != "undefined" && u.length > 0) {
							s.removeAttr("href");
							s.attr("onclick", "return false;")
						}
					});
					if (l.data("layerId")) {
						l.off("mouseover").off("mouseleave")
					}
					t.mouseover(function() {
						clearTimeout(l.data("initModuleTimer"));
						if (a.ResizeDoc) {
							return
						}
						t.children(".ui-resizable-handle").show();
						if (l.attr("resize") == 1) {
							k.find(".recoverBtn").show()
						}
						if (l.data("layerId")) {
							l.data("mouseover").call(l)
						}
						l.removeData("resizable-isLeave")
					}).mouseleave(function() {
						l.data("initModuleTimer", setTimeout(function() {
							if (!a.ResizeDoc) {
								var u = l.data("layerId");
								a.removeMoveFrame(u);
								$("#" + u + "moduleLayer").remove();
								t.children(".ui-resizable-handle").hide();
								k.find(".recoverBtn").hide()
							} else {
								l.data("resizable-isLeave", true)
							}
						}, 100))
					});
					l.data("hd-resizable-create") && l.data("hd-resizable-create").fireWith(l[0], [p, r])
				},
				start: function(p, q) {
					if (q.axis.length === 2) {
						$(this).resizable("option", "aspectRatio", true)
					} else {
						$(this).resizable("option", "aspectRatio", false)
					}
					e(l.data("layerId"));
					a.ResizeDoc = k;
					$$("#imgSizeShow").show();
					$("#" + l.data("layerId") + "moduleLayer").remove();
					q.originalElement.parent().find(".recoverBtn").hide();
					$(this).css("position", "relative");
					$(".ui-resizable-bottomTip,.ui-resizable-cancelTip,.draggableBtn").css({
						opacity: "0"
					});
					l.data("hd-resizable-start") && l.data("hd-resizable-start").fireWith(l[0], [p, q])
				},
				resize: function(q, r) {
					l.data("hd-resizable-resize") && l.data("hd-resizable-resize").fireWith(l[0], [q, r]);
					f(l, true);
					var p = $$("#imgSizeShow");
					p.css({
						top: q.pageY + 15,
						left: q.pageX - 30
					});
					p.find("span").eq(0).text(Math.round(l.width()) * 2);
					p.find("span").eq(1).text(Math.round(l.height()) * 2)
				},
				stop: function(q, s) {
					var r = 0;
					delete a.ResizeDoc;
					if (l.data("resizable-isLeave")) {
						$(this).mouseleave();
						l.removeData("resizable-isLeave")
					} else {
						l.mouseover()
					}
					$$("#imgSizeShow").hide();
					$(".ui-resizable-bottomTip,.ui-resizable-cancelTip,.draggableBtn").css({
						opacity: "1"
					});
					k.find(".slaveImg").attr("resize", "1");
					k.find(".recoverBtn").show();
					if ($(this).width() < 40 || $(this).height() < 40) {
						$(this).css("padding", "2px")
					} else {
						$(this).css("padding", "0")
					}
					var t = $(this).parent();
					var p = t.attr("link");
					if (typeof p != "undefined" && p.length > 0) {
						setTimeout(function() {
							t.attr("href", p);
							t.removeAttr("onclick")
						}, 100)
					}
					parent.operateFlagList[17] = true;
					a.logDog(1000078, 0);
					l.data("hd-resizable-stop") && l.data("hd-resizable-stop").fireWith(l[0], [q, s])
				}
			}, l.data("hd-resizable-option")));
			m.off(".slaveImg")
		});
		a.moduleDraggale = d(function(o, n, p) {
			var m = o.parent();
			var l = o;
			var k = p || "body";
			if (n) {
				l = m
			}
			if (n === false) {
				m = l
			}
			l.css("cursor", "move");
			l.css("position", "absolute");
			if (l.parents(".home").length > 0 || l.parents(".zlEnterHome").length > 0) {
				k = "#limitRange"
			}
			var j = parseInt(m.css("z-index"));
			j = isNaN(j) ? 100 : j;
			l.draggable($.extend({
				start: function(q, r) {
					o.mouseover();
					m.children(".ui-resizable-handle").hide();
					m.css("z-index", "9999");
					o.data("hd-draggable-start") && o.data("hd-draggable-start").fireWith(o[0], [q, r])
				},
				drag: function(q, r) {
					f(o);
					$("#" + o.data("layerId") + "moduleLayer").remove();
					o.parent().find(".recoverBtn").hide();
					o.data("hd-draggable-drag") && o.data("hd-draggable-drag").fireWith(o[0], [q, r])
				},
				stop: function(q, r) {
					m.css("z-index", j);
					o.mouseover();
					parent.operateFlagList[17] = true;
					a.logDog(1000078, 1);
					o.data("hd-draggable-stop") && o.data("hd-draggable-stop").fireWith(o[0], [q, r])
				},
				opacity: 0.5,
				scroll: false,
				distance: 1,
				containment: k,
				addClasses: false
			}, o.data("hd-draggable-option")))
		});

		function d(j) {
			return function() {
				var n = this;
				var k = arguments.callee;
				var l = arguments[0];
				if (a.getType(l) === "array") {
					if (a.getType(l[0]) === "array") {
						$.each(l, function(o, p) {
							if (a.getType(p) === "array") {
								k.call(n, p)
							}
						})
					} else {
						k.apply(n, l)
					}
				} else {
					(typeof l === "string" || l.nodeType) && (l = $(l));
					if (l instanceof jQuery && l.length > 0) {
						var m = Array.prototype.slice.call(arguments);
						if (l.length > 1) {
							l.each(function() {
								m[0] = $(this);
								j.apply(n, m)
							})
						} else {
							m[0] = l;
							j.apply(n, m)
						}
					}
					return n
				}
			}
		}
		function c(n, j, m, k) {
			var l = "hd-" + m + "-" + k;
			n.each(function() {
				var o = $(this).data(l);
				if (k === "option") {
					if (o) {
						$(this).data(l, $.extend({}, o, j))
					} else {
						$(this).data(l, j)
					}
				} else {
					if (!o) {
						o = $.Callbacks("unique memory");
						$(this).data(l, o)
					}
					o.add(j)
				}
			})
		}
		$.fn.extend({
			setResizableOption: function(j) {
				c($(this), j, "resizable", "option");
				return $(this)
			},
			setDraggableOption: function(j) {
				c($(this), j, "draggable", "option");
				return $(this)
			},
			addResizableFn: function(k, j) {
				c($(this), j, "resizable", k);
				return $(this)
			},
			addDraggableFn: function(k, j) {
				c($(this), j, "draggable", k);
				return $(this)
			},
			addEditUploadFn: function(k, j) {
				c($(this), j, "editUpload", k);
				return $(this)
			},
			awardSlide: function(k) {
				if (typeof k === "object") {
					var m = {
						margin_bottom: "0",
						padding_right: "0",
						padding_right: "0",
						speed: 15
					};
					var k = $.extend(m, k);
					this.each(function() {
						$(this).show();
						var n = $(this),
							s = n.children("ul");
						var o = $(window).width();
						var r = 0;
						var t = 8;
						$(".awardInfoList .uerItem").css({
							"padding-left": k.padding_left,
							"padding-right": k.padding_right
						});
						var u = parseInt($(".awardInfoList .uerItem").css("padding-left"));
						var q = parseInt($(".awardInfoList .uerItem").css("padding-right"));
						$(".awardInfoList .uerItem").each(function() {
							r += $(this).outerWidth(true)
						});
						if (_manage) {
							r = 722
						}
						s.css({
							width: r * 2 + 10
						});
						s.append(s.find("li").clone());
						var p = s.find("li");
						p.removeClass("bottomScrollAnima");
						t = r / o * t;
						p.eq(0).addClass("bottomScrollAnima");
						p.css({
							width: "50%",
							left: o + 20,
							"animation-duration": t + "s",
							"-webkit-animation-duration": t + "s",
							"-ms-animation-duration": t + "s"
						});
						setTimeout(function() {
							p.eq(1).addClass("bottomScrollAnima")
						}, t / 2 * 1000);
						$(this).data("awardSlideOptions", t)
					})
				} else {
					if (k === "stop") {
						$(this).hide();
						$(this).find("li").eq(1).remove();
						$(this).removeData("awardSlideOptions")
					} else {
						if (k === "wakeup") {
							$(this).show();
							var l = $(this).data("awardSlideOptions");
							var j = $(this).children("ul").find("li");
							j.eq(1).removeClass("bottomScrollAnima");
							setTimeout(function() {
								j.eq(1).addClass("bottomScrollAnima")
							}, l / 2 * 1000)
						}
					}
				}
				return $(this)
			},
		});
		a.Img = {
			MODE_SCALE_FILL: 1,
			MODE_SCALE_WIDTH: 2,
			MODE_SCALE_HEIGHT: 3,
			MODE_SCALE_DEFLATE_WIDTH: 4,
			MODE_SCALE_DEFLATE_HEIGHT: 5,
			MODE_SCALE_DEFLATE_FILL: 6,
			MODE_SCALE_DEFLATE_MAX: 7
		};
		a.Img.isNull = function(j) {
			return (typeof j == "undefined") || (j == null)
		};
		a.Img.optimize = function(n, p, l) {
			var k = new Image();
			k.src = n.src;
			var m = k.width;
			var j = k.height;
			if (a.Img.isNull(m) || m == 0 || a.Img.isNull(j) || j == 0) {
				m = n.width;
				j = n.height
			}
			var o = a.Img.calcSize(m, j, p.width, p.height, p.mode, l);
			n.width = o.width;
			n.height = o.height;
			if (p.display == 1) {
				n.style.display = "inline"
			} else {
				if (p.display == 2) {
					n.style.display = "none"
				} else {
					n.style.display = "block"
				}
			}
			return {
				width: n.width,
				height: n.height
			}
		};
		a.Img.calcSize = function(j, q, o, p, l, k) {
			if (isNaN(o)) {
				o = parseFloat(o) * g_rem
			}
			if (isNaN(p)) {
				p = parseFloat(p) * g_rem
			}
			var r = {
				width: j,
				height: q
			};
			if (l == a.Img.MODE_SCALE_FILL) {
				var n = j / o;
				var m = q / p;
				if (n > m) {
					r.width = o;
					r.height = q / n
				} else {
					r.width = j / m;
					r.height = p
				}
			} else {
				if (l == a.Img.MODE_SCALE_WIDTH) {
					var n = j / o;
					r.width = o;
					r.height = q / n
				} else {
					if (l == a.Img.MODE_SCALE_HEIGHT) {
						var m = q / p;
						r.width = j / m;
						r.height = p
					} else {
						if (l == a.Img.MODE_SCALE_DEFLATE_WIDTH) {
							var n = j / o;
							if (n > 1) {
								r.width = o;
								r.height = q / n
							}
						} else {
							if (l == a.Img.MODE_SCALE_DEFLATE_HEIGHT) {
								var m = q / p;
								if (m > 1) {
									r.width = j / m;
									r.height = p
								}
							} else {
								if (l == a.Img.MODE_SCALE_DEFLATE_FILL) {
									var n = j / o;
									var m = q / p;
									if (n > m) {
										if (n > 1) {
											r.width = o;
											r.height = q / n
										}
									} else {
										if (m > 1) {
											r.width = j / m;
											r.height = p
										}
									}
								} else {
									if (l == a.Img.MODE_SCALE_DEFLATE_MAX) {
										if (j > o && q > p) {
											var n = j / o;
											var m = q / p;
											if (n < m) {
												r.width = o;
												r.height = q / n
											} else {
												r.width = j / m;
												r.height = p
											}
										}
									}
								}
							}
						}
					}
				}
			}
			if (!k) {
				r.width = Math.floor(r.width);
				r.height = Math.floor(r.height)
			}
			if (r.width == 0) {
				r.width = 1
			}
			if (r.height == 0) {
				r.height = 1
			}
			return r
		}
	})();
	(function() {
		var i = '<div id="logBox"><div id="log_head"><div id="log_close" class="log_icon">╳</div><div id="log_min" class="log_icon">━</div>' + (g_config.test ? '<div id="log_share" class="log_icon">share</div>' : "") + '</div><div id="log_text_wrap"><div id="log_text"></div></div></div>';
		var k = $('<div id="log_max"><div id="log_max_inner">＋</div></div>');
		var j = $(i);
		var g = j.find("#log_text");
		var e = j.find("#log_head");
		var c = {};
		var f = true;
		var h = 0;
		$(function() {
			var l = $("body");
			if (l.length < 0) {
				return
			}
			l.append(j);
			l.append(k);
			e.on("touchstart", function(m) {
				m.preventDefault();
				m.stopPropagation();
				var n = m.originalEvent.targetTouches[0];
				c.x = n.pageX;
				c.y = n.pageY
			}).on("touchmove", function(m) {
				m.preventDefault();
				m.stopPropagation();
				var p = m.originalEvent.targetTouches[0];
				var o = j.offset().left + p.pageX - c.x;
				var n = j.offset().top + p.pageY - c.y;
				c.x = p.pageX;
				c.y = p.pageY;
				if (o > -0.2 * j.width() && o + 0.5 * j.width() < $(window).width()) {
					j[0].style.left = o + "px"
				}
				if (n > 0 && n + 0.5 * j.height() < $(window).height()) {
					j[0].style.top = n + "px"
				}
			});
			j.find("#log_close").on("touchstart", function() {
				k.hide();
				j.hide();
				g.empty();
				h = 0
			});
			j.find("#log_min").on("touchstart", function() {
				k.show();
				j.hide()
			});
			j.find("#log_share").on("touchstart", function() {
				var n = a.wxConfigArg.url;
				a.log("shareUrl", n);
				if (g_config.test) {
					n = escape(n).replace(/\+/g, "%2B").replace(/\"/g, "%22").replace(/\'/g, "%27").replace(/\//g, "%2F");
					var m = "http://" + a.gameDomainIgnoreStyle + "/hdtest.jsp?cmd=setUrl&url=" + n;
					window.open(m)
				}
			});
			k.on("touchstart", function() {
				k.hide();
				j.show()
			});
			g.on("touchstart", ".log_flag", function() {
				var m = $(this).parent();
				if (m.hasClass("log_line_ellipsis")) {
					m.removeClass("log_line_ellipsis")
				} else {
					m.addClass("log_line_ellipsis")
				}
			});
			j.hide();
			k.hide()
		});
		a.tlog = d(function(m, l) {
			if (/log/.test(g_config.testCMD)) {
				a.logStd(m, l)
			}
			a.log(m, l)
		});
		a.log = d(function(m, l) {
			if (!m_debug) {
				return
			}
			$(function() {
				if (h === 0) {
					j.show()
				}
				h++;
				var n = $('<div class="log_line log_line_ellipsis"><span class="log_flag"></span><span class="log_text"></span></div>');
				n.find(".log_flag").text(m);
				n.find(".log_text").text(l);
				g.append(n);
				$("#log_text_wrap")[0].scrollTop = $("#log_text_wrap")[0].scrollHeight
			})
		});

		function d(l) {
			return function(n, m) {
				if (a.IsPC()) {
					return
				}
				if (arguments.length <= 1) {
					m = n;
					n = "###"
				}
				if (a.getType(m) === "object" || a.getType(m) === "array") {
					m = $.toJSON(m)
				} else {
					m = String(m)
				}
				l(n, m)
			}
		}
	})();
	(function(h) {
		function p(v, A) {
			var z = (v & 65535) + (A & 65535),
				w = (v >> 16) + (A >> 16) + (z >> 16);
			return (w << 16) | (z & 65535)
		}
		function t(v, w) {
			return (v << w) | (v >>> (32 - w))
		}
		function e(B, y, w, v, A, z) {
			return p(t(p(p(y, B), p(v, z)), A), w)
		}
		function d(y, w, C, B, v, A, z) {
			return e((w & C) | ((~w) & B), y, w, v, A, z)
		}
		function j(y, w, C, B, v, A, z) {
			return e((w & B) | (C & (~B)), y, w, v, A, z)
		}
		function o(y, w, C, B, v, A, z) {
			return e(w ^ C ^ B, y, w, v, A, z)
		}
		function c(y, w, C, B, v, A, z) {
			return e(C ^ (w | (~B)), y, w, v, A, z)
		}
		function f(G, B) {
			G[B >> 5] |= 128 << ((B) % 32);
			G[(((B + 64) >>> 9) << 4) + 14] = B;
			var y, A, z, w, v, F = 1732584193,
				E = -271733879,
				D = -1732584194,
				C = 271733878;
			for (y = 0; y < G.length; y += 16) {
				A = F;
				z = E;
				w = D;
				v = C;
				F = d(F, E, D, C, G[y], 7, -680876936);
				C = d(C, F, E, D, G[y + 1], 12, -389564586);
				D = d(D, C, F, E, G[y + 2], 17, 606105819);
				E = d(E, D, C, F, G[y + 3], 22, -1044525330);
				F = d(F, E, D, C, G[y + 4], 7, -176418897);
				C = d(C, F, E, D, G[y + 5], 12, 1200080426);
				D = d(D, C, F, E, G[y + 6], 17, -1473231341);
				E = d(E, D, C, F, G[y + 7], 22, -45705983);
				F = d(F, E, D, C, G[y + 8], 7, 1770035416);
				C = d(C, F, E, D, G[y + 9], 12, -1958414417);
				D = d(D, C, F, E, G[y + 10], 17, -42063);
				E = d(E, D, C, F, G[y + 11], 22, -1990404162);
				F = d(F, E, D, C, G[y + 12], 7, 1804603682);
				C = d(C, F, E, D, G[y + 13], 12, -40341101);
				D = d(D, C, F, E, G[y + 14], 17, -1502002290);
				E = d(E, D, C, F, G[y + 15], 22, 1236535329);
				F = j(F, E, D, C, G[y + 1], 5, -165796510);
				C = j(C, F, E, D, G[y + 6], 9, -1069501632);
				D = j(D, C, F, E, G[y + 11], 14, 643717713);
				E = j(E, D, C, F, G[y], 20, -373897302);
				F = j(F, E, D, C, G[y + 5], 5, -701558691);
				C = j(C, F, E, D, G[y + 10], 9, 38016083);
				D = j(D, C, F, E, G[y + 15], 14, -660478335);
				E = j(E, D, C, F, G[y + 4], 20, -405537848);
				F = j(F, E, D, C, G[y + 9], 5, 568446438);
				C = j(C, F, E, D, G[y + 14], 9, -1019803690);
				D = j(D, C, F, E, G[y + 3], 14, -187363961);
				E = j(E, D, C, F, G[y + 8], 20, 1163531501);
				F = j(F, E, D, C, G[y + 13], 5, -1444681467);
				C = j(C, F, E, D, G[y + 2], 9, -51403784);
				D = j(D, C, F, E, G[y + 7], 14, 1735328473);
				E = j(E, D, C, F, G[y + 12], 20, -1926607734);
				F = o(F, E, D, C, G[y + 5], 4, -378558);
				C = o(C, F, E, D, G[y + 8], 11, -2022574463);
				D = o(D, C, F, E, G[y + 11], 16, 1839030562);
				E = o(E, D, C, F, G[y + 14], 23, -35309556);
				F = o(F, E, D, C, G[y + 1], 4, -1530992060);
				C = o(C, F, E, D, G[y + 4], 11, 1272893353);
				D = o(D, C, F, E, G[y + 7], 16, -155497632);
				E = o(E, D, C, F, G[y + 10], 23, -1094730640);
				F = o(F, E, D, C, G[y + 13], 4, 681279174);
				C = o(C, F, E, D, G[y], 11, -358537222);
				D = o(D, C, F, E, G[y + 3], 16, -722521979);
				E = o(E, D, C, F, G[y + 6], 23, 76029189);
				F = o(F, E, D, C, G[y + 9], 4, -640364487);
				C = o(C, F, E, D, G[y + 12], 11, -421815835);
				D = o(D, C, F, E, G[y + 15], 16, 530742520);
				E = o(E, D, C, F, G[y + 2], 23, -995338651);
				F = c(F, E, D, C, G[y], 6, -198630844);
				C = c(C, F, E, D, G[y + 7], 10, 1126891415);
				D = c(D, C, F, E, G[y + 14], 15, -1416354905);
				E = c(E, D, C, F, G[y + 5], 21, -57434055);
				F = c(F, E, D, C, G[y + 12], 6, 1700485571);
				C = c(C, F, E, D, G[y + 3], 10, -1894986606);
				D = c(D, C, F, E, G[y + 10], 15, -1051523);
				E = c(E, D, C, F, G[y + 1], 21, -2054922799);
				F = c(F, E, D, C, G[y + 8], 6, 1873313359);
				C = c(C, F, E, D, G[y + 15], 10, -30611744);
				D = c(D, C, F, E, G[y + 6], 15, -1560198380);
				E = c(E, D, C, F, G[y + 13], 21, 1309151649);
				F = c(F, E, D, C, G[y + 4], 6, -145523070);
				C = c(C, F, E, D, G[y + 11], 10, -1120210379);
				D = c(D, C, F, E, G[y + 2], 15, 718787259);
				E = c(E, D, C, F, G[y + 9], 21, -343485551);
				F = p(F, A);
				E = p(E, z);
				D = p(D, w);
				C = p(C, v)
			}
			return [F, E, D, C]
		}
		function q(w) {
			var x, v = "";
			for (x = 0; x < w.length * 32; x += 8) {
				v += String.fromCharCode((w[x >> 5] >>> (x % 32)) & 255)
			}
			return v
		}
		function k(w) {
			var x, v = [];
			v[(w.length >> 2) - 1] = undefined;
			for (x = 0; x < v.length; x += 1) {
				v[x] = 0
			}
			for (x = 0; x < w.length * 8; x += 8) {
				v[x >> 5] |= (w.charCodeAt(x / 8) & 255) << (x % 32)
			}
			return v
		}
		function l(v) {
			return q(f(k(v), v.length * 8))
		}
		function g(x, A) {
			var w, z = k(x),
				v = [],
				y = [],
				B;
			v[15] = y[15] = undefined;
			if (z.length > 16) {
				z = f(z, x.length * 8)
			}
			for (w = 0; w < 16; w += 1) {
				v[w] = z[w] ^ 909522486;
				y[w] = z[w] ^ 1549556828
			}
			B = f(v.concat(k(A)), 512 + A.length * 8);
			return q(f(y.concat(B), 512 + 128))
		}
		function u(y) {
			var A = "0123456789abcdef",
				w = "",
				v, z;
			for (z = 0; z < y.length; z += 1) {
				v = y.charCodeAt(z);
				w += A.charAt((v >>> 4) & 15) + A.charAt(v & 15)
			}
			return w
		}
		function n(v) {
			return unescape(encodeURIComponent(v))
		}
		function r(v) {
			return l(n(v))
		}
		function m(v) {
			return u(r(v))
		}
		function i(v, w) {
			return g(n(v), n(w))
		}
		function s(v, w) {
			return u(i(v, w))
		}
		h.md5 = function(w, x, v) {
			if (!x) {
				if (!v) {
					return m(w)
				} else {
					return r(w)
				}
			}
			if (!v) {
				return s(x, w)
			} else {
				return i(x, w)
			}
		}
	}(typeof jQuery === "function" ? jQuery : this));
	a.encodeBase64 = function(k) {
		var j, h, f;
		var d = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
		var g = 0,
			c = k.length,
			e = "";
		while (g < c) {
			j = k.charCodeAt(g++) & 255;
			if (g == c) {
				e += d.charAt(j >> 2);
				e += d.charAt((j & 3) << 4);
				e += "==";
				break
			}
			h = k.charCodeAt(g++);
			if (g == c) {
				e += d.charAt(j >> 2);
				e += d.charAt(((j & 3) << 4) | ((h & 240) >> 4));
				e += d.charAt((h & 15) << 2);
				e += "=";
				break
			}
			f = k.charCodeAt(g++);
			e += d.charAt(j >> 2);
			e += d.charAt(((j & 3) << 4) | ((h & 240) >> 4));
			e += d.charAt(((h & 15) << 2) | ((f & 192) >> 6));
			e += d.charAt(f & 63)
		}
		return e
	};
	a.imgReady = (function() {
		var f = [],
			e = null,
			d = function() {
				var g = 0;
				for (; g < f.length; g++) {
					f[g].end ? f.splice(g--, 1) : f[g]()
				}!f.length && c()
			},
			c = function() {
				clearInterval(e);
				e = null
			};
		return function(h, m, o, l) {
			var n, i, p, k, g, j = new Image();
			if (typeof h === "object") {
				j = h
			} else {
				j.src = h
			}
			if (j.complete) {
				m.call(j);
				o && o.call(j);
				return
			}
			i = j.width;
			p = j.height;
			j.onerror = function() {
				l && l.call(j);
				n.end = true;
				j = j.onload = j.onerror = null
			};
			n = function() {
				k = j.width;
				g = j.height;
				if (k !== i || g !== p || k * g > 1024) {
					m.call(j);
					n.end = true
				}
			};
			n();
			j.onload = function() {
				!n.end && n();
				o && o.call(j);
				j = j.onload = j.onerror = null
			};
			if (!n.end) {
				f.push(n);
				if (e === null) {
					e = setInterval(d, 40)
				}
			}
		}
	})();
	a.initEdit = function(d) {
		var p = d.origin,
			l = d.originDef,
			s = d.originMod,
			c = {};
		(function() {
			if (!s) {
				return
			}
			$.each(s, function(t, v) {
				if (v === l[t]) {
					return
				}
				var w = p[t];
				if (v.css) {
					function u(x) {
						if (typeof x.opt !== "undefined") {
							x.opt = 0
						}
						if (x.tra !== "undefined") {
							x.defTra = x.tra
						}
						x.defVal = x.val
					}
					$.each(v.css, function(x, y) {
						if (y.css) {
							$.each(y.css, function(z, A) {
								u(A)
							})
						} else {
							u(y)
						}
					});
					if (g_config.isNewGame) {
						$.extend(true, w.css, v.css)
					}
				}
				if (v.text) {
					$.each(v.text, function(x, y) {
						if (g_config.isNewGame) {
							$.extend(true, w.text, v.text)
						}
						if (y.type == 2) {
							y.txtopt = 0;
							delete y.numLimit
						}
					})
				}
			});
			$.extend(true, l, s)
		})();

		function r(u, A) {
			var B = "getImgInfo-" + u;
			if (A) {
				B = "getImgInfo-rem-" + u
			}
			var x = c[B];
			if (x) {
				return x
			}
			var w = h(u)[0];
			if (!w) {
				return
			}
			x = {
				name: u,
				css: w.css
			};
			if (w.path) {
				if (a.getType(w.path[0]) === "array") {
					x.path = [];
					for (var t = 0; t < w.path.length; t++) {
						x.path[t] = a.getSrc(w.path[t][0])
					}
				} else {
					x.path = a.getSrc(w.path[0])
				}
			}
			var y = A ? parseFloat : parseRemToPx;
			var C = {
				size: ["width", "height"],
				pos: ["left", "top"]
			};
			for (var B in C) {
				var z = C[B];
				var v = w[B];
				if (!v) {
					continue
				}
				if (a.getType(v) === "array") {
					x[z[0]] = [], x[z[1]] = [];
					$.each(v, function(D, E) {
						x[z[0]].push(y(E[z[0]]));
						x[z[1]].push(y(E[z[1]]))
					})
				} else {
					x[z[0]] = y(v[z[0]]);
					x[z[1]] = y(v[z[1]])
				}
			}
			c[B] = x;
			return x
		}
		function m(x, u, t) {
			var w = t ? u.defVal : u.val;
			var v = t ? u.defTra : u.tra;
			if (!w) {
				return
			}
			if (u.from) {
				x = $(u.from)
			}
			if (u.type !== "color") {
				if (u.name === "font-size" && typeof w == "number") {
					x.css(u.name, (w / 20) + "rem")
				} else {
					x.css(u.name, w)
				}
			} else {
				w = i(w);
				if (u.name === "text-shadow") {
					x.css(u.name, g(k(w, v)))
				} else {
					x.css(u.name, k(w, v))
				}
			}
		}
		function i(w) {
			w = $.trim(w);
			if (/^#[0-9a-fA-f]{3}$/.test(w)) {
				var t = "#";
				for (var v = 1; v < 4; v += 1) {
					var x = w.slice(v, v + 1);
					t += x + x
				}
				w = t
			}
			if (!/^#[0-9a-fA-f]{6}$/.test(w)) {
				return w
			}
			w = parseInt(w.substring(1), 16);
			var u = ["rgb(", w >> 16, ",", (w & 65280) >> 8, ",", (w & 255), ")"];
			return u.join("")
		}
		function g(t) {
			return t + " -1px -1px 0px, " + t + " 0px -1px 0px, " + t + " 1px -1px 0px, " + t + " 1px 0px 0px, " + t + " 1px 1px 0px, " + t + " 0px 1px 0px, " + t + " -1px 1px 0px, " + t + " -1px 0px 0px"
		}
		function k(u, t) {
			if (typeof t === "undefined" || t == -1) {
				return u
			}
			return "rgba" + u.substring(u.indexOf("("), u.indexOf(")")) + "," + (t ? t : 0) + ")"
		}
		function h(u) {
			for (var v = 0; v < p.length; v++) {
				var t = p[v];
				if (t.name === u) {
					return [t, l[v]]
				}
			}
			return [false, false]
		}
		function f(v, u) {
			var t = {};
			t.from = v;
			t.title = u[1];
			t.limit = u[2];
			t.defSrc = a.getSrc(u[0]);
			return t
		}
		function q(t, u) {
			t.each(function() {
				if (/img/i.test($(this)[0].nodeName)) {
					$(this).attr("src", u)
				} else {
					$(this).css("background-image", 'url("' + u + '")')
				}
			})
		}
		function o(u, t) {
			a.getType(t) === "undefined" && (t = 0);
			return a.getType(u) === "array" ? (u[t] || u[0]) : u
		}
		function n(S) {
			var R = typeof S === "object" ? S : h(S),
				y = R[0],
				I = R[1],
				S = y.name,
				A = $(".editTarget-" + S),
				z = y.pos,
				F = y.size,
				H = I.path,
				v = I.size,
				x = I.pos;
			A = A.not(function() {
				return $(this).data("hasBindEdit")
			});
			var C = -2,
				Q = null,
				w = false,
				O = null,
				K = true;
			if (I.edit) {
				if (typeof I.edit === "number") {
					C = I.edit
				} else {
					if (I.edit === "_background") {
						!d.bgList && (d.bgList = []);
						d.bgList.push({
							from: ".editTarget-" + S + ",.editRelate-" + S,
							defSrc: a.getSrc(H[0])
						});
						A.data("hasBindEdit", true);
						return
					} else {
						if (I.edit !== "_none") {
							Q = [];
							if (c["edit-" + I.edit]) {
								Q = c["edit-" + I.edit]
							} else {
								var E = [];
								if (I.edit === "all") {
									E = d.originDef.filter(function(T) {
										return !T.formDefaultStyle && T.edit != "_background"
									})
								} else {
									$.each(I.edit.split(","), function(T, U) {
										E.push(h(U)[1])
									})
								}
								for (var P = 0; P < E.length; P++) {
									var D = E[P].path;
									var J = E[P].name;
									var u = ".editTarget-" + J + ",.editRelate-" + J;
									if (typeof D != "undefined") {
										if (a.getType(D[0]) === "array") {
											for (var L = 0; L < D.length; L++) {
												L > 0 && (u = ".editTarget-" + J + "-" + L + ",.editRelate-" + J + "-" + L);
												Q.push(f(u, D[L]))
											}
										} else {
											Q.push(f(u, D))
										}
									}
								}!c["edit-" + I.edit] && (c["edit-" + I.edit] = Q)
							}
							C = -1
						} else {
							K = false
						}
					}
				}
			} else {
				K = false
			}
			var B = "editTarget-" + S,
				N = null,
				M = false;
			if (I.css || I.cssAll) {
				if (I.cssAll) {
					O = [];
					$.each(I.cssAll, function(T, U) {
						if (h(U)[1].css) {
							O = O.concat(h(U)[1].crrCssArg)
						}
					})
				} else {
					O = I.crrCssArg
				}
				w = !O[0].targetName ? true : O[0].targetName;
				if (I.cssEdit == 1) {
					var t = O;
					parent.Edit.addEditBtn("编辑背景", "." + B, function() {
						parent.Edit.Css.showCssByGame.call($("." + B), "." + B, t);
						parent.operateFlagList[21] = true;
						a.logDog(1000078, 5);
						return false
					});
					w = false, O = null
				}
			}
			if (I.text) {
				K = !I.text[0].targetName ? true : I.text[0].targetName;
				y.text = $.extend(true, [], I.text, y.text);
				if (I.text[0].type == 1) {
					K = false
				}
				if (y.text.filter(function(T) {
					return T.type == 2
				}).length > 0) {
					C = 0;
					B = function() {
						j.call(this, y.text, I.text, S)
					}
				}
			}
			if (I.edit || O) {
				a.initModuleLayer(A, C, B, Q, w, O, K)
			}
			var G = (a.getType(x) === "array" && a.getType(v) !== "array");
			A.each(function(Y) {
				var W = o(z, Y),
					V = o(F, Y),
					U = o(v, Y),
					X = o(x, Y);
				if (V) {
					$(this).addClass("slaveImg");
					if (!$(this).parents().hasClass("imgContainer")) {
						$(this).wrap('<div class="imgContainer absCenter"></div>')
					}
					if (!U.disable) {
						if (G) {
							var T = null;
							$(this).addResizableFn("start", function(aa, ab) {
								T = A.not(this);
								if (/n|w/.test(ab.axis) && !U.noSyncOffset) {
									T.each(function(ad, af) {
										var ac = $(this),
											ae = ac.parents(".ui-wrapper");
										ac.data("originalPosition-relative", {
											left: parseFloat(ae.css("left")) - ab.originalPosition.left,
											top: parseFloat(ae.css("top")) - ab.originalPosition.top,
										})
									})
								}
							});
							$(this).addResizableFn("resize", function(aa, ab) {
								T.add(T.parents(".ui-wrapper")).css({
									width: $(ab.element).width(),
									height: $(ab.element).height()
								});
								if (/n|w/.test(ab.axis) && !U.noSyncOffset) {
									T.each(function(ad, ae) {
										var ac = $(this);
										var af = ac.data("originalPosition-relative");
										ac.add(ac.parents(".ui-wrapper")).css({
											left: ab.position.left + af.left,
											top: ab.position.top + af.top
										})
									})
								}
							});
							$(this).addResizableFn("stop", function(aa, ab) {
								if (!U.noSyncOffset) {
									T.each(function(ac, ad) {
										$(this).removeData("originalPosition-relative").attr("resize", "1")
									})
								}
								T = null
							})
						}
						var Z = {
							width: U.width,
							height: U.height
						};
						if (X && X.disable) {
							Z.left = X.left;
							Z.top = X.top
						}
						a.moduleSlaveImgResize($(this), Z);
						if (G) {
							$(this).addResizableFn("recover", function() {
								var aa = $(this).parents(".ui-wrapper");
								A.each(function(ab, ac) {
									if (ab === Y) {
										return
									}
									var ae = $(ac).add($(ac).parents(".ui-wrapper"));
									ae.width(aa.width()).height(aa.height());
									var ad = o(x, ab);
									if (ad && ad.disable) {
										ae.css({
											left: ad.left,
											top: ad.top
										})
									}
									ae.attr("resize", 0)
								})
							})
						}
					}
				}
				if (W && !X.disable) {
					if (X.forParent != "false" && !$(this).parents().hasClass("imgContainer")) {
						$(this).wrap('<div class="imgContainer absCenter"></div>')
					}
					a.moduleDraggale($(this), X.forParent == "false" ? false : true)
				}
			});
			A.data("hasBindEdit", true)
		}
		function j(x, u, w) {
			$$("#uploadBg").fadeIn(200);
			$$("#uploadImgBox").css("left", $$(".editDetail").offset().left + 12).removeClass("uploadUp").addClass("uploadDown");
			var y = $$("#uploadInfoBox");
			y.css("overflow-y", "auto").html("");
			$$("#uploadBoxTitle").html(u[0].allTitel || "编辑内容");
			var t = [];
			$.each(x, function(F, B) {
				if (B.type != 2) {
					return
				}
				var I = u[F];
				!I.from && (I.from = ".editTarget-" + w + ",.editRelate-" + w);
				var H = B.val;
				var E = I.numLimit;
				if (a.getType(E) != "array") {
					E = [0, E]
				}
				var D = E[0];
				var K = E[1];
				var J = B.txtopt;
				var M = B.shouInput;
				var N = "";
				var C = I.val;
				var L = $(I.from);
				t.push([L.data("hd-editUpload-editClose"), this, [B, I, L]]);
				N += '<div class="uploadLine"  >';
				if (B.shouInput) {
					N += A((I.title || "文字内容") + "：", "内容", H, "title")
				} else {
					N += z((I.title || "文字内容") + "：", "内容", H, "title", F, J)
				}
				N += "</div>";
				y.append(N);
				var G = $$(".newTextArea .activeInput").eq(F);
				G.off().on("blur", function() {
					var O = $(this).val();
					if ($.trim(O).length < (D + 1)) {
						if (!$(this).hasClass("inputErr")) {
							$(this).addClass("inputErr")
						}
						$(this).parent().find(".editErr").show().text("输入的文字不可少于" + (D + 1) + "个！");
						L.text(B.val)
					}
					var P = L.data("hd-editUpload-textBlur");
					P && P.fireWith(this, [B, I, L])
				}).on("focus", function() {
					$(this).removeClass("inputErr");
					$(this).parent().find(".editErr").hide();
					$(this).parent().find(".editErr2").hide();
					var O = L.data("hd-editUpload-textFocus");
					O && O.fireWith(this, [B, I, L])
				}).on("input propertychange", function() {
					var S = $(this).val();
					S = S.substr(0, K);
					var P = $.trim($(this).val()).length;
					if (P > K) {
						$(this).val(S)
					}
					L.text(S);
					var O = L.data("hd-editUpload-textBeforeSave");
					if (O) {
						var R = {};
						O.fireWith(this, [B, I, L, R]);
						R.str && (S = R.str);
						R.len && (P = R.len)
					}
					if (v(P, D, K)) {
						B.val = S
					}
					var Q = L.data("hd-editUpload-textKeyUp");
					if (Q) {
						Q.fireWith(this, [B, I, L])
					}
				});
				if (J) {
					G.css("display", "inline-block").val(B.val)
				} else {
					G.hide()
				}
				$$("#TheOnlyOne" + F + "").on("click", function() {
					B.txtopt = 0;
					L.text(C);
					$$(".newTextArea .activeInput").hide().removeClass("inputErr").val(C);
					$$(".newTextArea .activeInput").siblings(".editErr").hide();
					$$(".newTextArea .activeInput").siblings(".editErr2").hide()
				});
				$$("#TheOnlytwo" + F + "").on("click", function() {
					B.txtopt = 1;
					$$(".newTextArea .activeInput").css("display", "inline-block").val(B.val);
					L.text(B.val)
				})
			});
			$$("#uploadImgBox").data("editClose", function() {
				$.each(t, function(B, D) {
					var C = D[0];
					C && C.fireWith(D[1], D[2])
				})
			});
			g_config.closeWin && g_config.closeWin();

			function v(C, D, B) {
				if (typeof B !== "undefined") {
					return C > D && C <= B
				} else {
					return C > D
				}
			}
			function A(F, C, D, B) {
				var E = D;
				E = a.encodeHtml(E);
				return '<div class="answerLine clearfix"><div class="floatLeft newTextT" style="width: 70px; margin-top: 12px" >' + F + '</div><div style="width: 320px;" class="floatLeft"><div class="newTextArea"><input type="text" class="input scrollBox activeInput" style="width: 300px;height: 32px; padding-left: 5px;" value="' + E + '" ' + (isPublish ? "disabled" : "") + '><div style="color:#888; padding-top: 5px;">确认发布后无法修改，请认真输入！</div><div class="editErr hide" style="color: red;margin-top: 10px;">输入文字不能为空</div><div class="editErr2 hide" style="color: red; margin-top: 10px; display: none;">输入仅限中文字母跟数字</div></div></div></div>'
			}
			function z(G, C, I, H, E, F) {
				var B = I;
				B = a.encodeHtml(B);
				var J = F ? "checked" : "";
				var D = F ? "" : "checked";
				return '<div class="answerLine clearfix"><div class="floatLeft newTextT" style="width: 100px;">' + G + '</div><div class="floatLeft" style="width: 320px;"><div><input id="TheOnlyOne' + E + '" type="radio" name="theRealOnly"' + D + '><label for="TheOnlyOne' + E + '" style="height: 16px;line-height: 16px;">默认</label><input id="TheOnlytwo' + E + '" type="radio" name="theRealOnly"' + J + '><label for="TheOnlytwo' + E + '" style="height: 16px;line-height: 16px;">自定义</label></div><div class="newTextArea" style="margin-top: 12px;"><textarea class="input scrollBox activeInput" style="width: 300px;height: 100px;">' + B + '</textarea><div class="editErr hide" style="color: red;margin-top: 10px;">输入文字不可少于10个！</div><div class="editErr2 hide" style="color: red; margin-top: 10px; display: none;">输入仅限中文</div></div></div></div>'
			}
			return false
		}
		if (_manage) {
			d.setAllEdit = function() {
				e();
				hg.edit.hasInitEle = true;
				$.each(l, function(t, u) {
					if (u.css) {
						u.crrCssArg = $.extend(true, [], u.css, p[t].css)
					}
				});
				$.each(p, function(u, t) {
					n([t, l[u]])
				})
			}
		} else {
			e()
		}
		function e() {
			$.each(p, function(w, u) {
				var x = l[w],
					v = $(".editTarget-" + u.name),
					y = u.pos,
					B = u.size,
					A = u.path;
				var t = function(C) {
						C.each(function(F) {
							var E = o(y, F),
								D = o(B, F);
							if (E && E.top && E.left) {
								$(this).css({
									top: E.top,
									left: E.left
								}).addClass("abs")
							}
							if (D && D.width && D.height) {
								$(this).css({
									width: D.width,
									height: D.height
								})
							}
						})
					};
				t(v);
				if (A) {
					var z = ".editRelate-" + u.name;
					if (a.getType(A[0]) === "array") {
						$.each(A, function(D, F) {
							var E = a.getSrc(F[0]);
							var C = "editTarget-" + u.name;
							if (D !== 0) {
								C = "editTarget-" + u.name + "-" + D;
								z = ".editRelate-" + u.name + "-" + D
							}
							if ($("." + C).length > 0) {
								q($("." + C), E);
								t($("." + C))
							} else {
								$("body").append('<input class="' + C + '" type="hidden" value="' + E + '">')
							}
							if ($(z).length > 0) {
								q($(z), E)
							}
						})
					} else {
						q(v.add(z), a.getSrc(A[0]))
					}
				}
				if (u.css) {
					$.extend(true, x.css, u.css);
					$.each(x.css, function(C, D) {
						if (!D.from) {
							D.from = ".editTarget-" + u.name + ",.editRelate-" + u.name
						}
						if (D.css) {
							$.each(D.css, function(F, E) {
								if (!E.from) {
									E.from = D.from
								}
								m($(E.from), E, E.opt === 0)
							})
						} else {
							m($(D.from), D, D.opt === 0)
						}
					})
				}
				if (u.text) {
					$.each(u.text, function(D, E) {
						var C = x.text[D];
						!C.from && (C.from = ".editTarget-" + u.name + ",.editRelate-" + u.name);
						if (C.type == 2) {
							var F = Fai.encodeHtml(E.txtopt ? E.val : C.val);
							$(C.from).html(F)
						} else {
							$(C.from).val(E.value)
						}
					})
				}
			})
		}
		d.getImgInfo = r;
		d.getInfoByName = h;
		d.getRgba = k;
		d.initEdit = e;
		d.cache = c;
		delete d.originMod;
		return d
	};
	a.initSound = function(e, f, d) {
		if (d) {
			$.each(d, function(i, j) {
				f[i].path = j.path;
				if (g_config.isModel) {
					e[i].optFlag = f[i].optFlag
				}
			})
		}
		if (e) {
			$.each(e, function(j, k) {
				var i = f[j];
				if (j !== 0 && k.optFlag === 1) {
					k.optFlag = 2
				}
				k.path = a.getSrc(k.path);
				i.path = a.getSrc(i.path)
			})
		}
		var c = {};
		var h = LF.sound.webAudioEnabled && LF.global.webAudio;
		$(function() {
			$.setSoundM()
		});
		var g = {
			list: e,
			listDef: f,
			allowPlay: true,
			setPlayPower: function(j, k) {
				if (typeof j == "boolean") {
					this.allowPlay = j
				}
				var i = c[j];
				if (!i) {
					a.tlog("Sound_setPlayPower_err", "这个key:" + j + " 不存在!");
					return this
				}
				i._allowPlay = k
			},
			play: function(m, o, k) {
				if (_manage) {
					return
				}
				if (!this.allowPlay) {
					return this
				}
				if (e && a.getType(m) === "number") {
					var j = m === 0 ? 1 : 3;
					if (e[m].optFlag === j) {
						return this
					}
				}
				if (m !== 0 && e && e[0].optFlag !== 1 && !h) {
					return this
				}
				var i = c[m];
				if (!i) {
					a.tlog("Sound_play_err", "这个key:" + m + " 不存在!");
					return this
				}
				if (!i._allowPlay) {
					return
				}
				i.play(o, k);
				if (!i.playing) {
					try {
						wx.checkJsApi({
							jsApiList: ["checkJsApi"],
							success: function() {
								i.play(o, k)
							}
						})
					} catch (n) {
						a.tlog("Sound_play_err", n)
					}
				}
				return this
			},
			readyPlay: function(m, n, j) {
				if (_manage) {
					return
				}
				var i = c[m];
				if (!i) {
					a.tlog("Sound_readyPlay_err", "这个key:" + m + " 不存在!");
					return this
				}
				var k = this;
				k.play(m, n, j);
				k.onReady(m, function() {
					!i.playing && k.play(m, n, j)
				})
			},
			pause: function(j) {
				if (_manage) {
					return
				}
				var i = c[j];
				if (!i) {
					a.tlog("Sound_pause_err", "这个key:" + j + " 不存在!");
					return this
				}
				i.stop();
				return this
			},
			pauseAll: function() {
				if (_manage) {
					return
				}
				var i = null;
				for (var j in c) {
					i = c[j];
					if (i) {
						i.stop()
					}
				}
				return this
			},
			load: function(n, j, k) {
				if (_manage) {
					return
				}
				if (c[j]) {
					a.tlog("Sound_load_err", "这个key:" + j + " 已经存在!");
					return this
				}
				var i = null,
					m = h;
				typeof k !== "undefined" && (m = k);
				if (/.wav$/.test(n) && a.isIPhone()) {
					m = false
				}
				if (m) {
					i = new LF.webAudio()
				} else {
					i = new LF.media();
					try {
						i.data = new Audio()
					} catch (l) {
						console.warn("ReferenceError: Can't find variable: Audio");
						i.data = {}
					}
					i.data.loop = false;
					i.data.autoplay = false
				}
				i._type = "audio";
				if (n) {
					i.load(n)
				}
				i.readyCallBack = $.Callbacks("unique memory");
				i.addEventListener(LF.event.COMPLETE, function(o) {
					i.complete = true;
					i.readyCallBack.fire(i);
					i.readyCallBack = null;
					a.tlog("sound", j + " ready")
				});
				i._allowPlay = true;
				c[j] = i;
				return this
			},
			onReady: function(j, k) {
				if (_manage) {
					return
				}
				var i = c[j];
				if (!i) {
					a.tlog("Sound_onReady_err", "这个key:" + j + " 不存在!");
					return this
				}
				if (i.complete) {
					k(i)
				} else {
					i.readyCallBack.add(k)
				}
				return this
			},
			cache: c,
		};
		g.load(_resRoot + "/image/button.mp3", "startButton");
		if (e) {
			$.each(e, function(i, j) {
				var l = j.path;
				if (i === 0) {
					g.load(l, i, false);
					if (g.cache["0"]) {
						var k = g.cache["0"].data;
						if (Audio && k instanceof Audio) {
							document.getElementById("pageMusic").appendChild(k)
						}
					}
				} else {
					g.load(l, i)
				}
			});
			if (!_manage) {
				g.cache["0"].data.addEventListener("play", function() {
					$(function() {
						$(".soundIcon").removeClass("soundIconOff")
					})
				}, false);
				g.cache["0"].data.addEventListener("pause", function() {
					$(function() {
						$(".soundIcon").addClass("soundIconOff")
					})
				}, false)
			}
		}
		return g
	};
	a.initCallBack = function(d, c) {
		d = d || {};
		var e = {};
		d.addCallBack = function(f) {
			if (a.getType(f) == "array") {
				for (var g = f.length - 1; g >= 0; g--) {
					arguments.callee(f[g])
				}
				return
			}
			if (typeof f == "string" && typeof e[f] == "undefined") {
				e[f] = null
			}
		};
		d.on = function(f, h) {
			var g = e[f];
			if (typeof g === "undefined") {
				return this
			}
			if (g === null) {
				e[f] = g = $.Callbacks("unique memory stopOnFalse")
			}
			g.add(h);
			return this
		};
		d.off = function(f, i) {
			var h = this;
			if (typeof f === "undefined") {
				$.each(e, function(j, k) {
					h.off(k, i)
				});
				return h
			}
			var g = e[f];
			if (!g) {
				return h
			}
			if (typeof i === "undefined") {
				g.empty()
			} else {
				g.remove(i)
			}
			return h
		};
		d.fire = function(g) {
			var f = e[g];
			if (f) {
				var h = Array.prototype.slice.call(arguments);
				h.shift();
				return f.fire.apply(f, h)
			}
			return true
		};
		d.fireWith = function(g) {
			var f = e[g];
			if (f) {
				var h = Array.prototype.slice.call(arguments);
				h.shift();
				return f.fireWith.apply(f, h)
			}
			return true
		};
		if (typeof c !== "undefined") {
			d.addCallBack(c)
		}
		return d
	};
	a.initTime = function(c) {
		var h = null,
			f, i = 0;

		function e(j) {
			var k = Math.round(j * 100) / 100;
			var l = k.toString();
			var m = l.indexOf(".");
			if (m < 0) {
				m = l.length;
				l += "."
			}
			while (l.length <= m + 2) {
				l += "0"
			}
			return l
		}
		var d = [70, 280];
		if (g_config.countsTimeType) {
			if (g_config.sortType) {
				d[1] = -1
			}
		} else {
			if (g_config.scoreType) {
				if (!g_config.sortType) {
					d[1] = -1
				}
			} else {
				d[1] = -1
			}
		}
		var g = {
			val: 0,
			pastTime: 0,
			interval: 140,
			range: d,
			target: null,
			isDesc: !g_config.countsTimeType,
			acceList: null,
			initTime: c,
			status: "ended",
			updateFlag: true,
			targetFlag: true,
			frameInc: 0,
			setAcceList: function(k) {
				if (typeof k === "number") {
					var l = k;
					k = [];
					for (var j = 0; j < l; j++) {
						k.push((l - j) * (this.initTime / (l + 1)))
					}
				}
				this.acceList = k
			},
			setTarget: function() {
				var j = e(this.val);
				if (!_manage || !this._hasInit) {
					this.targetFlag && this.target.text(j);
					this._hasInit = true
				}
				this.fireWith("setTime", this, [j])
			},
			init: function() {
				if (this.initTime === 99999) {
					return
				}!this.target && (this.target = $(".time"));
				this.val = this.initTime;
				this.pastTime = 0;
				$(".timeUpImg").hide();
				this.setTarget();
				return this
			},
			start: function() {
				if (this.initTime === 99999) {
					return
				}
				f = new Date().getTime() / 1000;
				if (this.updateFlag && this.status === "ended") {
					this.status = "runing";
					this.play()
				} else {
					this.status = "runing"
				}
				return this
			},
			isRunning: function() {
				return this.status === "runing"
			},
			pause: function() {
				this.status = "pause"
			},
			end: function() {
				if (this.status === "ended") {
					return
				}
				clearTimeout(h);
				i = 0;
				this.update();
				this.status = "ended";
				return this
			},
			setTime: function() {
				var j = (new Date).getTime() / 1000;
				var n = j - f;
				var l = this.isDesc ? -1 : 1;
				if (this.range[0] > 0 && n < this.range[0] / 1000) {
					n = this.range[0] / 1000
				} else {
					if (this.range[1] > 0 && n > this.range[1] / 1000) {
						n = this.range[1] / 1000
					}
				}
				this.val += l * n;
				this.pastTime = l * (this.val - this.initTime);
				f = j;
				if (this.isDesc) {
					if (this.acceList) {
						for (var k = 0; k < this.acceList.length; k++) {
							if (this.val <= this.acceList[k] && i == k) {
								i++;
								this.fireWith("acce", this, [i]);
								break
							}
						}
					}
					if (this.val <= 0) {
						this.val = 0;
						this.setTarget();
						clearTimeout(h);
						i = 0;
						this.status = "ended";
						this.fireWith("end", this);
						var m = $(".timeUpImg");
						m.removeClass("tada");
						m.addClass("tada");
						m.show();
						return
					}
				}
				this.setTarget()
			},
			update: function() {
				if (this.initTime === 99999) {
					return
				}
				if (this.status !== "pause") {
					this.setTime()
				}
				this.fireWith("timer", this, [this.status !== "pause"])
			},
			play: function() {
				this.update();
				if (this.status !== "ended") {
					h = setTimeout(arguments.callee.bind(this), this.interval)
				}
			},
			updateInFrame: function(j) {
				if (this.initTime === 99999) {
					return
				}
				if (this.status === "ended") {
					return
				}
				if (j < 0) {
					j = 0
				}
				this.frameInc += j;
				if (this.frameInc >= this.interval) {
					this.update();
					this.frameInc = 0
				}
			}
		};
		a.initCallBack(g, ["end", "timer", "acce", "setTime"]);
		g.init();
		g.changeTwoDecimal_f = e;
		return g
	};
	a.initGrade = function() {
		var c = function(d) {
				c.set(c.val + d)
			};
		$.extend(c, {
			val: 0,
			set: function(d) {
				c.val = d;
				c.val < 0 && (c.val = 0);
				c.fireWith("setGrade", c, [c.val]);
				c.target && c.target.text(c.val)
			}
		});
		$(function() {
			c.target = $("#grade")
		});
		a.initCallBack(c, ["setGrade"]);
		return c
	};
	a.initAreaLimit = function(e) {
		
	};
	a.getAreaByWx = function(f) {
		if (g_config.ipInfo.provice && g_config.ipInfo.city) {
			return c()
		}
		if (g_config.test) {
			g_config.ipInfo.provice = "广东";
			g_config.ipInfo.city = "广州";
			return c()
		}
		try {
			wx.ready(function() {
				if (!g_config.isOpenAreaLimit) {
					return
				}
				wx.getLocation({
					type: "wgs84",
					success: function(e) {
						var h = new qq.maps.Geocoder();
						var g = new qq.maps.LatLng(e.latitude, e.longitude);
						h.getAddress(g);
						h.setComplete(function(j) {
							if (j) {
								var l = j.detail.addressComponents.city;
								var i = j.detail.addressComponents.province;
								var k = j.detail.addressComponents.country;
								g_config.ipInfo.contry = k;
								g_config.ipInfo.provice = i;
								g_config.ipInfo.city = l;
								c()
							}
						});
						h.setError(function() {
							c()
						})
					},
					fail: function(e) {
						a.statusMsg("当前微信版本不支持定位或没开启定位服务，请联系活动主办单位", "")
					},
					cancel: function() {
						a.statusMsg("用户拒绝了授权地理位置信息", "")
					}
				})
			})
		} catch (d) {
			return c()
		}
		return false;

		function c() {
			if (f) {
				return f()
			}
			return false
		}
	};
	a.initWxConfig = function(k) {
		a.wxConfigArg = {
			url: k.fullUrl
		};
		i({
			haveAward: g_config.haveAward,
			plInfo: k.plInfo,
			bestRankInfo: g_config.bestRankInfo,
			comfortAwardStyle: g_config.comfort.cas
		});
		wx.config({
			debug: false,
			appId: k.jsSdkAppid,
			timestamp: k.timestamp,
			nonceStr: k.nonce_str,
			signature: k.signature,
			jsApiList: ["checkJsApi", "onMenuShareTimeline", "onMenuShareAppMessage", "onMenuShareQQ", "onMenuShareWeibo", "hideMenuItems", "showMenuItems", "hideAllNonBaseMenuItem", "showAllNonBaseMenuItem", "translateVoice", "startRecord", "stopRecord", "onRecordEnd", "playVoice", "pauseVoice", "stopVoice", "uploadVoice", "downloadVoice", "chooseImage", "previewImage", "uploadImage", "downloadImage", "getNetworkType", "openLocation", "getLocation", "hideOptionMenu", "showOptionMenu", "closeWindow", "scanQRCode", "chooseWXPay", "openProductSpecificView", "addCard", "chooseCard", "openCard"]
		});
		wx.ready(function() {
			$("#awardCollectionBtn").on("touchstart", function() {
				var r = true;
				var o = g_config.wxAward;
				var m = o.genewxcard;
				if (m) {
					if (g_config.status == 0) {
						a.statusMsg("活动尚未发布", "无法加入到微信卡券");
						return
					}
					var n = o.wxcardid;
					var l = $("#awardDetailBox .codeLine .code").text();
					var q = $("#awardDetailBox .codeLine .code").attr("code");
					var p = g_config.award.depositTime;
					a.log(n);
					a.log(l);
					
				}
			})
		});
		wx.ready(function() {
			if (k.isHideMenuItems) {
				wx.hideMenuItems({
					menuList: ["menuItem:copyUrl"]
				})
			} else {
				wx.showAllNonBaseMenuItem()
			}
			try {
				if (k.isHideShareBtn) {
					wx.hideMenuItems({
						menuList: ["menuItem:share:timeline"]
					})
				}
				wx.error(function(m) {
					if (m_debug) {
						alert($.toJSON(m))
					}
				})
			} catch (l) {
				alert(l.message)
			}
		});
		wx.ready(function() {
			var l = window.navigator.userAgent.indexOf("iPhone") > -1 || window.navigator.userAgent.indexOf("iPad") > -1 || window.navigator.userAgent.indexOf("iPod") > -1;
			var m = window.navigator.userAgent.indexOf("Android") > -1;
			var n = "unknown";
			if (l) {
				n = "apple"
			} else {
				if (m) {
					n = "android"
				}
			}
			if (!g_config.isFromZhuliShare && isPublish) {
				wx.getNetworkType({
					success: function(o) {
						var p = o.networkType;
						var q = "other";
						if (p === "wifi") {
							q = "wifi"
						} else {
							q = "other"
						}
						
					}
				})
			}
		});

		function j(s, p, r) {
			if (!_manage) {
				s = s.replace("红包", "")
			}
			s = a.decodeHtml(s);
			p = a.removeUrlArg(p, "code", "state");
			var n = p;
			if (!k.dynamicShareUrlRootEmpty) {
				var m = p.split("?")[1].split("&");
				var o = "";
				for (var q = 0; q < m.length; q++) {
					var l = m[q];
					if (l.split("=")[0] === "aid" || l.split("=")[0] === "id" || l.split("=")[0] === "style") {
						continue
					}
					if (o.length > 0) {
						o += "&"
					}
					o += l
				}
				if (m_debug) {
					n = k.dynamicShareUrlRoot + "share.jsp?fsl=" + k.fsl + "&aid=" + g_config.aid + "&id=" + g_config.gameId + "&" + o
				} else {
					n = k.dynamicShareUrlRoot + g_config.aid + "/" + g_config.gameId + "/share.jsp?fsl=" + k.fsl + "&" + o
				}
			}
			p = a.setUrlArg(p, ["otherplayer", g_config.openId]);
			n = a.setUrlArg(n, ["otherplayer", g_config.openId]);
			p = a.setUrlArg(p, ["shareDeep", k.shareDeep + 1]);
			n = a.setUrlArg(n, ["shareDeep", k.shareDeep + 1]);
			a.log(k.openStrongAttention);
			if (k.openStrongAttention) {
				p = a.setUrlArg(p, ["isOfficialLianjie", "false"]);
				n = a.setUrlArg(n, ["isOfficialLianjie", "false"])
			}
			if (p === a.wxConfigArg.url && a.wxConfigArg.desc === s && a.wxConfigArg.callBack === r && a.wxConfigArg.pyqUrl === n) {
				return
			}
			a.tlog("aaa");
			wx.ready(function() {
				var u = k.shareImg;
				if (!/^http:/.test(u) && /^\/\//.test(u)) {
					u = "http:" + u
				}
				try {
					a.tlog("ready成功");
					a.tlog("ready成功");
					wx.onMenuShareAppMessage({
						title: a.decodeHtml(k.activeName),
						desc: s,
						link: p,
						imgUrl: u,
						type: "link",
						success: function() {
							
						},
						cancel: function() {},
						fail: function(v) {
							if (m_debug) {
								alert(JSON.stringify(v))
							}
						}
					});
					wx.onMenuShareTimeline({
						title: s,
						link: n,
						imgUrl: u + "xxxxx",
						success: function(v) {
							$.ajax({
								type: "post",
								url: g_config.ajaxUrl + "hdgame_h.jsp?cmd=setShareNum&aid=" + g_config.aid + "&gameId=" + g_config.gameId + "&openId=" + g_config.openId + "&type=pyq&shareDeep=" + g_config.shareDeep,
								error: function() {
									if (m_debug) {
										alert("服务繁忙，请稍候重试")
									}
								},
								success: function(w) {
									if (!m_debug) {
										a.logDog(1000004, g_config.srcId);
										a.logObjDog(1000092, 2, g_config.gameId);
										a.logDog(1000055, 1)
									}
									g(w);
									r && r(w)
								}
							})
						},
						cancel: function(v) {},
						fail: function(v) {
							if (m_debug) {
								alert(JSON.stringify(v))
							}
						}
					});
					a.tlog("当前分享朋友链接：", p);
					a.tlog("当前分享朋友圈链接：", n)
				} catch (t) {
					alert(t.message)
				}
			});
			a.wxConfigArg.desc = s;
			a.wxConfigArg.url = p;
			a.wxConfigArg.callBack = r;
			a.wxConfigArg.pyqUrl = n
		}
		function h() {
			var l = Array.prototype.slice.call(arguments);
			l.unshift(a.wxConfigArg.url);
			j(a.wxConfigArg.desc, a.setUrlArg.apply(a, l), a.wxConfigArg.callBack)
		}
		function f() {
			var l = Array.prototype.slice.call(arguments);
			l.unshift(a.wxConfigArg.url);
			j(a.wxConfigArg.desc, a.removeUrlArg.apply(a, l), a.wxConfigArg.callBack)
		}
		function e(l) {
			l = l.replace(/\u200b/g, "").replace(/&nbsp;/g, " ").replace(/&lt;/g, "<").replace(/&gt;/g, ">");
			return l.replace(/<span class=["']tag["'] contenteditable=["']?false["']?>(.+?)<\/span>/g, function(n, m) {
				switch (m) {
				case "玩家名称":
					if (g_config.style == 48) {
						return a.hykjUserName
					} else {
						if (a.captainUserName) {
							return a.captainUserName
						} else {
							return g_config.userName
						}
					}
				case "游戏成绩":
					if (g_config.style == 49) {
						return parseInt(a.currentScore) + g_config.scoreUnit
					} else {
						return g_config.scoreType ? a.currentScore : parseInt(a.currentScore)
					}
				case "游戏排名":
					return a.currentRank;
				case "奖品名称":
					return a.currentAward;
				case "奖项等级":
					return a.currentAwardStyle;
				case "收集的字":
					return '"' + a.ccndrmTitle + '"'
				}
			})
		}
		function c(l, m) {
			if (_manage) {
				return
			}
			typeof l === "undefined" && (l = a.wxConfigArg.url);
			typeof m === "undefined" && (m = a.wxConfigArg.callBack);
			if (g_config.drawType != 3) {
				if (g_config.style == 49) {
					j(e(k.wxShareText_def), l, m);
					return
				}
				if (a.currentAward) {
					j(e(k.wxShareText_award), l, m)
				} else {
					if (a.currentRank) {
						j(e(k.wxShareText_rank), l, m)
					} else {
						j(e(k.wxShareText_def), l, m)
					}
				}
			}
		}
		function g(n) {
			var l = $.parseJSON(n);
			a.tlog("shareaward", l.shareaward);
			if (l && l.shareaward) {
				drawTimesLimit += k.addDrawTime;
				if (g_config.style != 50) {
					drawTotalLimit += k.addDrawTime
				}
				if (g_config.drawType != 0 && a.resulePoup.resuleArg) {
					a.resulePoup.resuleArg.count += k.addDrawTime;
					a.resulePoup.resuleArg.totalCount += k.addDrawTime
				}
				$(".dayDrawCount").text(drawTimesLimit - count < 0 ? 0 : (drawTimesLimit - count));
				$(".totalDrawCount,#totalDrawCount").text(drawTotalLimit - totalCount < 0 ? 0 : (drawTotalLimit - totalCount));
				g_config.showHelpGuide = false;
				PlayInfo.addPlayTimesLimit(k.addDrawTime);
				if (g_config.style == 50) {
					var m = $(".gameScoreUnit").eq(0).text();
					qdydjAddText($("#grade .specil"), k.addDrawTime);
					a.statusMsg("分享成功，获得" + k.addDrawTime + m)
				}
			}
			$("#helpGuideBox").hide()
		}
		function i(n) {
			if (_manage) {
				return
			}
			var l = ["一", "二", "三", "四", "五", "六", "七", "八"];
			var q = n.haveAward;
			if (q) {
				var m = n.plInfo;
				a.currentAward = m.award;
				var o = m.awardLevel;
				if (o != 900 && o > 0) {
					if (k.nameList && k.nameList.length >= o) {
						a.currentAwardStyle = k.nameList[o - 1]
					} else {
						a.currentAwardStyle = l[o - 1]
					}
				} else {
					a.currentAwardStyle = n.comfortAwardStyle
				}
			}
			var p = n.bestRankInfo;
			a.currentRank = p.rank;
			a.currentScore = p.score;
			c()
		}
		var d = {};
		d.handleShareAward = g;
		d.setWxShareByStatus = c;
		d.setShareText = e;
		d.removeWxShareUrlArg = f;
		d.setWxShareUrlArg = h;
		d.setWxShare = j;
		d.setWxShareArg = i;
		a.wxConfig = d
	};
	a.addJoinGameBehavior = function() {
		
	};
	a.setGameEnd = function() {
		var e = $(".bottomSkill");
		var d = $(window).height() / $(window).width() < 1.575;
		var c = d ? $(window).width() * 1.575 : $(window).height();
		$(".home").html("");
		$(".home").append(e);
		$(".home").append('<p style="font-size:0.9rem; color:#e7e7e7; text-align: center; padding-top:10rem; line-height: 1.3rem">活动已结束<br>请期待下次活动</p>');
		$(".home").css({
			height: c,
			background: "#424242",
			width: "100%",
			position: "fixed",
			"z-index": "500"
		});
		document.title = "活动已结束";
		$(".home").addClass("showImp");
		$(".homeBtnBox").addClass("showImp");
		$(".ruleImg,#ruleImg").addClass("showImp");
		$(".gameInfoBox").addClass("hideImp");
		$(".showAwardBox").addClass("hideImp");
		$("#informBtn").addClass("hideImp");
		hg.sound.allowPlay = false;
		hg.sound.pauseAll()
	};
	a.showRuleDecide = function() {
		var c = g_config.aid + "|" + g_config.gameId + "|" + g_config.openId;
		if (!a.getLocalStorage(c)) {
			a.setLocalStorage(c, "-");
			showRule()
		}
	};
	a.initJsFoot = function(d) {
		$(function() {
			a.sortRuleBox.init(d.rulesortstr);
			if (isPublish) {
				$(".unPublish").css("top", -2 + "rem")
			}
			var k = a.decodeHtml(d.hostName);
			var g = a.decodeHtml(d.hostLink).replace("http://", "");
			var i = a.decodeHtml(d.menuLink).replace("http://", "");
			var f = $(".menuName");
			if (d.fromFav && g_config.haveAward) {
				$("#resule-gift-sucImg").data("openCode", d.fromFav);
				showAwardDetail4Draw("fromFav")
			}
			if (!_manage && d.openAwardExp) {
				if (!(g_config.style == 55)) {
					a.showRuleDecide()
				}
			}
			$("#showRankNum").text(rankShowNum);
			$(".hostName").text(k);
			$(".resule-status-send").on("touchstart", function() {
				if (_manage) {
					return
				}
				if (g_config.haveAward) {
					a.changePoup(3)
				} else {
					luckDraw()
				}
			});
			$("#helpGuideBox").on("touchend", function() {
				$("#helpGuideBox").hide()
			});
			$("#awardInfo").on("click", ".codeInfoBox", function(l) {
				if (_manage) {
					return
				}
				a.openAwardDetail.call(this, l)
			});
			$("#resule-gift-sucImg, .clickHere").on("touchstart", function(l) {
				showAwardDetail4Draw();
				$("#clickHere").remove()
			});
			$(".awardCloseIcon").on("touchstart", function() {
				a.wxConfig.removeWxShareUrlArg("fromFav");
				$("#awardDetailBox").hide();
				$("#resule-gift-box,resule-status-box").hide();
				$(".gameBox").add(".home").removeClass("overflow-y-hidden");
				g_config.showSkillSup && $(".bottomSkill").show()
			});
			$(".codeImg").on("click", function() {
				$(".codeDetailImgBox").show()
			});
			$(".codeDetailImgBox").click(function() {
				$(this).hide()
			});
			$(".awardCusText").on("touchstart", function() {
				if (g_config.afterWxCard) {
					$("#ticketDetailBox").show()
				} else {
					var l = $("#awardCusTextInfo");
					if (l.css("display") == "block") {
						$(this).find(".awardDeailIcon").removeClass("awardIncoSlideDown");
						$(this).find(".awardDeailIcon").addClass("awardIncoSlideUp")
					} else {
						$(this).find(".awardDeailIcon").removeClass("awardIncoSlideUp");
						$(this).find(".awardDeailIcon").addClass("awardIncoSlideDown")
					}
					l.slideToggle()
				}
			});
			$(".ticketitle .closeBtn").on("touchstart", function() {
				$("#ticketDetailBox").hide()
			});
			if (d.isHideFxts) {
				$(".resule-fxts").hide()
			}
			g_config.style != 9 && g_config.showSkillSup && a.logDog(1000028, 0);
			if (g_config.aid == 7171826 && g_config.style != 9 && g_config.showSkillSup) {
				a.logDog(1000062, 2)
			} else {
				if (g_config.aid == 8566249 && g_config.style != 9 && g_config.showSkillSup) {
					a.logDog(1000067, 2)
				}
			}
			if (g_config.aid == 7171826 || g_config.aid == 8566249) {
				$(".home,.showBottomSkillPage").append('<div class="bottomSkill skillInfo">本游戏由 <span class="yySkill" style="text-decoration:underline;">凡科互动</span> 提供</div>');
				$(".yySkill").click(function() {
					if (g_config.aid == 7171826) {
						a.logDog(1000062, 3)
					} else {
						if (g_config.aid == 8566249) {
							a.logDog(1000067, 3)
						}
					}
					$("#yyAttentionMask").show()
				})
			} else {
				if (g_config.status == 3) {
					$(".home,.showBottomSkillPage").append('<div class="bottomSkill skillInfo">页面技术由 <a href=' + d.supportUrl + ">" + d.skillSupport + "</a> 提供</div>")
				} else {
					if (g_config.style != 46) {
						if (g_config.style == 55) {
							$(".gameBox,.showBottomSkillPage").append('<div class="bottomSkill skillInfo">页面技术由 ' + d.skillSupport + " 提供</div>")
						} else {
							$(".home,.showBottomSkillPage").append('<div class="bottomSkill skillInfo">页面技术由 ' + d.skillSupport + " 提供</div>")
						}
					}
				}
			}
			_manage && $("a").on("click", function() {
				return false
			});
			$(".homePoupMask").on("touchend", function(l) {
				l.preventDefault();
				l.stopPropagation();
				if (_manage) {
					return
				}
				if ($(l.target).hasClass("homePoupMask")) {
					$(this).hide()
				}
			});
			$(".menuBtnBox").on("touchend", function() {
				a.logDog(1000012)
			});
			if (d.showJoinNum) {
				$("#joinNumLine").show()
			} else {
				$("#joinNumLine").hide()
			}
			if (d.showRedDot) {
				$("#Award_Round_Dot").css("display", "inline-block")
			}
			if (d.showMDRedDot) {
				$("#Mingdan_Round_Dot").css("display", "inline-block")
			}
			if (d.showAwardBtn) {
				$("#myAwardBtn").show()
			}
			if (d.isSelAwardLine) {
				$("#selfAwardLine").show();
				$("#awardLineBox").hide()
			} else {
				$("#awardLineBox").show();
				$("#selfAwardLine").hide()
			}
			if (!d.showSkillSup) {
				$(".skillInfo").hide();
				$(".skillInfo").addClass("hideSkill")
			}
			if (d.menuStyle == 1) {
				$(".menuBtnBox").hide()
			} else {
				if (d.menuStyle == 2) {
					if ($.trim(i).length == 0) {
						f.css("text-decoration", "none")
					} else {
						f.attr("href", a.decodeHtml(d.menuLink))
					}
				} else {
					if (d.menuStyle == 3) {
						(function() {
							var l = $("#attentionMask");
							if (a.decodeHtml(d.menuLink) === "") {
								$("#QRImg").remove()
							}
							$(".menuBtnBox").on("touchend", function() {
								l.show()
							})
						})()
					}
				}
			}
			if ($.trim(g).length == 0) {
				$(".hostName").css("text-decoration", "none");
				$("a.hostName").attr("href", "#")
			}
			if (!isLimitDraw) {
				$(".totalDraw").hide()
			} else {
				$(".totalDraw").show();
				$(".dayDraw").hide();
				if ((drawTimesLimit - count) < (drawTotalLimit - totalCount)) {
					$(".dayDraw4Total").show()
				}
			}
			if ($("#awardExplain").text().length == 0) {
				$("#awardExplain_h").hide()
			}
			$("a.hostName").click(function() {
				a.logDog(1000013)
			});
			if (skillSupportType == 1) {
				$(".skillLine").css("padding", "0");
				$(".skillCont").hide()
			} else {
				if (skillSupportType == 3) {
					$(".skillName").text(skillName);
					$(".skillName").attr("href", skillLink)
				}
			}
			if (skillSupportType != 3 || skillLink.indexOf("mp.weixin.qq.com/s?__biz=MjM5MTk5MjI3OA==&mid=209854000&idx=1&sn=82241d924839270d3ea820ad2d56c01b#wechat_redirect") >= 0) {
				$(".skillName").click(function() {
					if (_manage) {
						return
					}
					a.logDog(1000013);
					if (g_config.authVer == HdVerDef.FREE) {
						a.logDog(1000070, 1)
					} else {
						if (g_config.authVer == HdVerDef.BJ) {
							a.logDog(1000070, 3)
						} else {
							if (g_config.authVer == HdVerDef.BY) {
								a.logDog(1000070, 5)
							}
						}
					}
					$("#skillSupMask").show();
					return false
				})
			}
			$(".skillInfo a").click(function() {
				if (_manage) {
					return
				}
				a.logDog(1000005, 0);
				if (g_config.authVer == HdVerDef.FREE) {
					a.logDog(1000070, 0)
				} else {
					if (g_config.authVer == HdVerDef.BJ) {
						a.logDog(1000070, 2)
					} else {
						if (g_config.authVer == HdVerDef.BY) {
							a.logDog(1000070, 4)
						}
					}
				}
				typeof g_config.isAOpenId == "number" && a.logDog(1000115, 3 + g_config.isAOpenId);
				if (g_config.aid == 7171826 || g_config.aid == 8566249) {
					if (g_config.aid == 7171826) {
						a.logDog(1000062, 1)
					} else {
						if (g_config.aid == 8566249) {
							a.logDog(1000067, 1)
						}
					}
					$("#yyAttentionMask").show();
					return false
				} else {
					if (!g_config.isOem) {
						$("#skillSupMask").show();
						return false
					}
				}
			});
			if (hg.sound.list && hg.sound.list.length > 0) {
				$(".home").add(".gameBgBox").append('<div class="' + (_manage ? "" : "soundIconOff ") + "soundIcon" + (hg.sound.list[0].optFlag != 1 ? "" : " soundIconHide") + '" style="z-index:90"></div>');
				$('.home .soundIcon:not(".soundIconPlay")').css({
					left: d.soundIcon_l,
					top: d.soundIcon_t
				});
				if (d.drawType == 1 || g_config.style == 4) {
					$(".home .soundIcon").hide()
				}
			}
			if (!_manage) {
				$(".gameBgBox .soundIcon").css("z-index", "100");
				$(".soundIcon").addClass("soundIconPlay");
				var j = "soundPause|" + g_config.aid + "|" + g_config.gameId + "|" + g_config.openId;
				$(".soundIcon").on("touchstart", function() {
					event.stopPropagation();
					event.preventDefault();
					var l = $(".soundIcon");
					if (!l.hasClass("soundIconOff")) {
						hg.sound.allowPlay = false;
						hg.sound.pauseAll();
						a.setLocalStorage(j, "-")
					} else {
						hg.sound.allowPlay = true;
						hg.sound.readyPlay(0, 0, "loop");
						a.setLocalStorage(j, "")
					}
				});
				if (a.getLocalStorage(j)) {
					hg.sound.allowPlay = false;
					hg.sound.pauseAll()
				}
				$("#ruleImg").addClass("ruleImgAnimate");
				$("#startBtnImg,.startBtnImg").on("touchend", function(l) {
					startBtnAjax.call(this, l, function(m) {
						if (!m) {
							return
						}
						hg.sound.play("startButton");
						if (typeof hg.sound.cache[0] !== "undefined" && typeof hg.sound.cache[0].playing !== "undefined" && !hg.sound.cache[0].playing && g_config.style != 51 && g_config.style != 9 && g_config.style != 48) {
							hg.sound.readyPlay(0, 0, "loop")
						}
					})
				});
				hg.assets.onload(startBtnDelay)
			} else {
				a.initModuleLayer([
					["#joinNumLine", 0, "joinNum", null, true],
					["#gameTopBar", -2, "gameTopBar", null, "样式设置"],
					["#logoImg", 2, "logoImg"],
					["#awardLine,#selfAwardLine", 1, "awardSetting"],
					["#gameDateTime", 0, "gameTime"],
					["#explainBox,#awardExplainBox,#resule-gift-explain", 0, "explain"],
					["#resule-status-count", 2, "drawInfo"],
					[".hostLine", 2, "hostLine"],
					["#skillLine", 1, "skillLine"],
					["#rankBox", 1, "rankBox"],
					[".resule-status-minscore", 2, "minscore"],
					[".menuBtnBox", 2, "menuBtn"],
					["#awardDetailBox .awardName", 1, "awardName"],
					["#awardDetailBox .awardCodeTime, #awardDetailBox .awardCodeFixedTerm", 1, "awardTime"],
					["#awardDetailBox .awardSubTitle", 1, "awardSubTitle"],
					["#awardDetailBox .awardCusBtn", 1, "awardCusBtn"],
					['.home .soundIcon:not(".soundIconPlay")', -2, "#limitRange"],
					["#awardDetailBox .codeOptInfo", 1, "codeOptInfo"],
					["#awardDetailBox .webCashBtn", 1, "webCashBtn"],
					["#resule-gift-sucImg", -1, "", [{
						from: "#resule-gift-sucImg",
						title: "奖品图片",
						limit: "5000k",
						defSrc: d.awardImage
					}]],
					["#titleImg", -1, "", [{
						from: "#titleImg",
						title: "标题图片",
						limit: "5000k",
						defSrc: d.titleImg_path_def
					}]],
					["#startBtnImg", -1, "", [{
						from: "#startBtnImg",
						title: "按钮图片",
						limit: "5000k",
						defSrc: d.startImg_path_def
					}]],
					["#ruleImg", -1, "", [{
						from: "#ruleImg",
						title: "活动奖品",
						limit: "5000k",
						defSrc: d.awardIconImgPath_def
					}]]
				]);
				if (!g_config.afterWxCard) {
					a.initModuleLayer([
						["#awardDetailBox .awardCusText", 1, "awardCusText"],
						[".codeImg", 1, "codeImg"], ])
				}
				$(".titleImg").addClass("abs");
				a.moduleSlaveImgResize([
					[$("#titleImg"),
					{
						width: d.titleImg_w_def,
						height: d.titleImg_h_def
					}],
					[$("#startBtnImg"),
					{
						width: d.startBtn_w_def,
						height: d.startBtn_h_def
					}],
					[$("#logoImg"),
					{
						width: d.logoImg_w_def,
						height: d.logoImg_h_def
					}, "#limitRange"], ]);
				a.moduleDraggale([
					["#titleImg", true],
					["#startBtnImg", true],
					["#logoImg", true, "#limitRange"],
					["#ruleImg", false, "#limitRange"],
					["#joinNumLine", false],
					["#drawInfo", false],
					['.home .soundIcon:not(".soundIconPlay")', false]
				]);
				h($("#logoImg").closest(".ui-wrapper"), 80);
				h($("#titleImg").closest(".ui-wrapper"), 70);
				h($("#drawImg").closest(".ui-wrapper"), 80);
				h($("#ruleImg"), 75);

				function h(m, l) {
					m.css("z-index", l)
				}
				$("#theGetPricePic,#theGetPricePicTwo,#theGetPricePicThree").setResizableOption({
					containment: ".cannotGetThePriceBox",
				}).setDraggableOption({
					containment: ".cannotGetThePriceBox",
				});
				$("#resule-gift-sucImg").setResizableOption({
					handles: "s,e,w,se,sw",
					dxRatio: 2,
					containment: false,
				}).addResizableFn("start", function(l, m) {
					$(this).add($(this).parent()).css({
						"max-height": (parseInt($("#resule-gift-scrollWrap").css("height")) - $(this).offset().top) / g_rem + "rem"
					})
				}).addResizableFn("resize", function(m, n) {
					$(this).add($(this).parent()).css({
						left: 0,
						top: 0,
					});
					var l = parseInt($("#resule-gift-scrollWrap").css("height")) - $(this).offset().top;
					if ($(this).height() > l) {
						$(this).add($(this).parent()).css({
							"max-height": l / g_rem + "rem"
						})
					}
				});
				a.moduleSlaveImgResize($("#resule-gift-sucImg"), {
					width: d.awardImg_w_def,
					height: d.awardImg_h_def
				});
				$("#resule-gift-sucImg").add($("#resule-gift-sucImg").parent()).css({
					"margin-left": "auto",
					"margin-top": "1.6rem",
					"margin-right": "auto",
					"margin-bottom": "1.6rem",
				});
				a.sortRuleBox.addBtn();
				hg.on("save", function(l) {
					var m = "";
					$("#ruleBox .poupLine").each(function(o, p) {
						var n = $(this).data("sortkey");
						if (n) {
							m += n
						}
					});
					l.rulesortstr = m
				});
				(function() {
					if (hg.sound.list && hg.sound.list.length > 0) {
						var l = ".home,.gameBgBox";
						if (g_config.style != 0 && g_config.style != 1 && g_config.style != 2 && g_config.style != 24) {
							l = ".gameBgBox"
						}
						if (g_config.style == 34) {
							l = "#gameTopBar,#gameLayerBox1,#gameLayerBox2,#gameLayerBox3"
						}
						if (g_config.style == 45) {
							l = ".gameInfoBoxMain"
						}
						if (g_config.style == 48) {
							l = "#gameContent,.friendEnterBoxer"
						}
						if (g_config.style == 9) {
							l = "#openBox"
						}
						if (g_config.style == 54) {
							l = ".home"
						}
						parent.Edit.addEditBtn("编辑音效", l, function() {
							parent.Edit.showEditByGame(-4, "", []);
							return false
						})
					}
					g_config.style != 49 && parent.Edit.addEditBtn("编辑背景", "#ruleImg,.home,.gameBgBox,.gameBgBox2", function() {
						var n = [];
						var q = {};
						if ($(".home").is(":visible")) {
							q.from = "#homeBg";
							q.defSrc = d.homeBgPath_def
						} else {
							if ($(".gameBgBox2").is(":visible")) {
								q.from = "#gameBg2" || ".gameBgBox2";
								q.defSrc = d.gameBg2Path_def
							} else {
								if ($(".gameBgBox").is(":visible")) {
									q.from = "#gameBg";
									q.defSrc = d.gameBgPath_def
								}
							}
						}
						if (hg.edit && hg.edit.bgList) {
							var p, o;
							for (var m = hg.edit.bgList.length - 1; m >= 0; m--) {
								p = hg.edit.bgList[m];
								o = $(p.from);
								if (o.length > 0 && o.eq(0).is(":visible")) {
									q = p;
									break
								}
							}
						}
						q.title = "背景图片";
						q.size = "640px*1136px";
						q.limit = "5000k";
						n.push(q);
						parent.Edit.showEditByGame(-1, "", n);
						return false
					})
				})();
				hg.edit && hg.edit.setAllEdit();
				startBtnDelay()
			}
		});

		function c() {
			$(".one").hide().siblings().show();
			$("#resule-status-box").show();
			$("#resule-status-head p").show();
			$(".resuleBox").show();
			$(".resule-bgLight").hide();
			$("#resule-status-ribbon").hide();
			$(".little-PK").show().siblings().hide();
			$(".resule-status-again").hide();
			$(".resule-status-home").hide();
			$(".resule-status-rightNow").show().siblings().hide();
			$(".resule-status-firstPage").show()
		}
		function e() {
			$("#resule-status-box").hide();
			$("#resule-status-head p").hide();
			$(".resuleBox").hide();
			$(".resule-bgLight").show();
			$("#resule-status-ribbon").show();
			$(".little-PK").hide().siblings().show();
			$(".resule-status-again").show();
			$(".resule-status-home").show();
			$(".resule-status-rightNow").hide().siblings().show();
			$(".one").show().siblings().hide();
			$("#resule-status-ribbon").show();
			$(".resule-status-firstPage").hide()
		}
		$(function() {
			$(".one").show();
			$(".resule-status-firstPage").hide();
			if (g_config.drawType == 1 && !_manage && otherPlayerInfo && typeof otherPlayerInfo.headImg !== "undefined" && typeof otherPlayerInfo.name !== "undefined" && typeof otherPlayerInfo.score !== "undefined" && typeof otherPlayerInfo.rank !== "undefined" && typeof otherPlayerInfo.award !== "undefined" && false) {
				var f = "PKrecord|" + otherPlayerInfo.aid + "|" + otherPlayerInfo.gameId + "|" + otherPlayerInfo.openId;
				if (!a.getLocalStorage(f)) {
					if (otherPlayerInfo.award != "") {
						$(".WhetherAward").text("获得" + otherPlayerInfo.award).show()
					}
					$(".PKner-A img").attr("src", otherPlayerInfo.headImg);
					$(".userA-name").text(otherPlayerInfo.name);
					$(".fighter-B").text(otherPlayerInfo.name);
					$(".othergrade .resuleArg").text(otherPlayerInfo.score);
					$("#rankB .resuleArg").text(otherPlayerInfo.rank);
					c();
					a.setLocalStorage(f, "-")
				}
			}
			$(".winAWard a").on("touchend", function() {
				showRule()
			});
			$(".resule-status-rightNow").on("touchend", function() {
				hg.on("startGame", function() {
					e();
					hg.off("startGame", arguments.callee)
				});
				$("#startBtnImg").trigger("touchstart");
				$("#startBtnImg").trigger("touchend")
			});
			$(".resule-status-firstPage").on("touchend", function() {
				e()
			});

			function i(j) {
				return function(n, m) {
					var l, k;
					if (typeof n === "object" && typeof m === "object" && n && m) {
						l = n[j];
						k = m[j];
						if (l === k) {
							return 0
						}
						if (typeof l === typeof k) {
							return l < k ? -1 : 1
						}
						return typeof l < typeof k ? -1 : 1
					}
				}
			}
			var g = g_config.style == 55 ? $(".gameBox,.showAwardBoxPage") : $(".home,.showAwardBoxPage");
			if (_manage) {
				g.append('<div class="showAwardBox"><ul class="awardInfoList"><li><div class="uerItem"><img src="' + g_config.headImg + '"><span class="winner">范女神<span>获得了<span class="award">100元优惠券</span></div><div class="uerItem"><img src="' + d.headImg2 + '"><span class="winner">小星儿<span>获得了<span class="award">50元优惠券</span></div><div class="uerItem"><img src="' + d.headImg3 + '"><span class="winner">LVYD<span>获得了<span class="award">30元优惠券</span></div><div class="uerItem"><img src="' + d.headImg4 + '"><span class="winner">萌妹子<span>获得了<span class="award">10元优惠券</span></div></li></ul></div>');
				$("#skillLine").css("min-height", "1rem")
			} else {
				if (!_manage && playerAwardList.length > 3) {
					g.append('<div class="showAwardBox"><ul class="awardInfoList"><li></li></ul></div>');
					var h = "";
					$.each(playerAwardList, function(j, k) {
						h += '<div class="uerItem"><img src="' + JSON.parse(this.info).headImg + '"><span class="winner">' + this.name + '<span>获得了<span class="award">' + this.award + "</span></div>"
					});
					if (g_config.style == 55) {
						$(".showAwardBox").hide();
						setTimeout(function() {
							$(".awardInfoList li").append(h);
							$(".showAwardBox").awardSlide({
								padding_right: "0.8rem"
							})
						}, 3500)
					} else {
						setTimeout(function() {
							$(".awardInfoList li").append(h);
							$(".showAwardBox").awardSlide({
								padding_right: "0.8rem"
							})
						}, 100)
					}
					$(".homeBtnBox").css("bottom", "3rem")
				}
			}
			if (!_manage) {
				if (d.dangerType == 0) {
					if (g_config.status == 3) {
						a.setGameEnd()
					}
				}
			}
			setTimeout(function() {
				var l = $(window).height() / $(window).width() < 1.575;
				var j = l ? $(window).width() * 1.575 : $(window).height();
				var k = g_config.showSkillSup ? 1 : 0;
				if (_manage) {
					$(".showAwardBox").css("top", (j - $(".bottomSkill").outerHeight() * k - $(".showAwardBox").outerHeight() - 2) / g_rem + "rem")
				} else {
					$(".showAwardBox").css("top", (j - $(".bottomSkill").outerHeight() * k - $(".showAwardBox").outerHeight()) / g_rem + "rem")
				}
				if (g_config.showSkillSup) {
					$(".showAwardBox").css("top", (j - $(".bottomSkill").outerHeight() * k - $(".showAwardBox").outerHeight() - 2) / g_rem + "rem")
				}
			}, 50);
			if (!g_config.showSlide) {
				$(".showAwardBox").hide()
			} else {
				if (!_manage) {
					$(".showAwardBox").addClass("footerBox")
				}
			}
		})
	};
	a.setStartBtnHeight = function(g, e) {
		var o = $(window).height();
		if (o === 0) {
			console.log("window高度为零！");
			setTimeout(function() {
				a.setStartBtnHeight(g, e)
			}, 20);
			return
		}
		typeof g === "undefined" && (g = g_config.showSlide);
		typeof e === "undefined" && (e = g_config.showSkillSup);
		var f = g ? 1 : 0;
		var h = e ? 1 : 0;
		var d = $(".bottomSkill").outerHeight() * h + $(".showAwardBox").outerHeight() * f;
		var p = $("#startBtnImg").parent();
		var m = $("#ruleImg");
		var n = $("#joinNumLine");
		var r = $("#drawInfo");
		var s = $(".homeBtnBox");
		var q = $("#gameTips");
		var c = parseInt(p.css("top")) + p.outerHeight();
		var l = parseInt(n.css("top")) + n.outerHeight();
		var k = parseInt(r.css("top")) + r.outerHeight();
		var j = parseInt(m.css("top")) + m.outerHeight();
		var i = parseInt(q.css("top")) + q.outerHeight();
		if (p.length > 0 && c > o - d) {
			p.css("top", (o - d - p.outerHeight() - 5) / g_rem + "rem")
		}
		if (m.length > 0 && j > o - d) {
			m.css("top", (o - d - m.outerHeight() - 5) / g_rem + "rem")
		}
		if (n.length > 0 && l > o - d) {
			n.css("top", (o - d - n.outerHeight() - 5) / g_rem + "rem")
		}
		if (r.length > 0 && k > o - d) {
			r.css("top", (o - d - r.outerHeight() - 5) / g_rem + "rem")
		}
		if (s.length > 0) {
			s.css("bottom", (d + 8) / g_rem + "rem")
		}
		if (q.length > 0 && i > o - d) {
			q.css("top", (o - d - q.outerHeight() - 5) / g_rem + "rem")
		}
		$("#limitRange").css("height", ($(window).height() - d) / g_rem + "rem")
	};
	a.getSrc = function(c) {
		return c.replace("*_resRoot*", _resRoot)
	};
	a.setCookie = function(d, e, c) {
		var f = new Date();
		f.setDate(f.getDate() + c);
		document.cookie = d + "=" + escape(e) + ((c == null) ? "" : ";expires=" + f.toGMTString())
	};
	a.getCookie = function(c) {
		if (document.cookie.length > 0) {
			c_start = document.cookie.indexOf(c + "=");
			if (c_start != -1) {
				c_start = c_start + c.length + 1;
				c_end = document.cookie.indexOf(";", c_start);
				if (c_end == -1) {
					c_end = document.cookie.length
				}
				return unescape(document.cookie.substring(c_start, c_end))
			}
		}
		return ""
	};
	a.setLocalStorage = function(d, e, c) {
		if (!localStorage) {
			if (c) {
				a.setCookie(d, e, c)
			}
			a.log("不支持localStorage");
			return
		}
		localStorage.setItem(d, e)
	};
	a.getLocalStorage = function(d, c) {
		if (!localStorage) {
			if (c) {
				return a.getCookie(d)
			}
			a.log("不支持localStorage");
			return ""
		}
		return localStorage.getItem(d)
	};
	a.removeLocalStorage = function(d, c) {
		if (!localStorage) {
			if (c) {
				a.setCookie(d, "", -1)
			}
			a.log("不支持localStorage");
			return
		}
		localStorage.removeItem(d)
	};
	a.refresh = function() {
		window.location.reload()
	};
	a.noLoadingRefresh = function() {
		window.location.href = document.URL.indexOf("noLoading") >= 0 ? document.URL : (document.URL + (document.URL.indexOf("?") >= 0 ? "&" : "?") + "noLoading=fff")
	};
	a.isIPhone = function() {
		return window.navigator.userAgent.indexOf("iPhone") !== -1
	};
	a.IsPC = function() {
		var c = navigator.userAgent;
		var f = ["Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod"];
		var d = true;
		for (var e = 0; e < f.length; e++) {
			if (c.indexOf(f[e]) > 0) {
				d = false;
				break
			}
		}
		return d
	};
	a.getType = function(c) {
		return Object.prototype.toString.call(c).match(/\[object\s(\w+)]/)[1].toLowerCase()
	};
	a.changeTimeLimit = function(c) {
		if (!c || c == "[8]") {
			return "周一至周日"
		}
		var f = $.parseJSON(c);
		var g = "";
		for (var e = 0; e < f.length; e++) {
			var h = e,
				d = e;
			while (f[d + 1] == (f[d] + 1)) {
				d++
			}
			if (h == d) {
				g = g + (g ? "、" : "") + b(f[h])
			} else {
				g = g + (g ? "、" : "") + b(f[h]) + "至" + b(f[d])
			}
			e = d
		}
		return g
	};

	function b(c) {
		switch (c) {
		case 1:
			return "周一";
		case 2:
			return "周二";
		case 3:
			return "周三";
		case 4:
			return "周四";
		case 5:
			return "周五";
		case 6:
			return "周六";
		case 7:
			return "周日"
		}
		return ""
	}
	a.jointUrlArg = function(d, c) {
		if (c) {
			return d + (d.indexOf("?") >= 0 ? "&" : "?") + c
		} else {
			return d
		}
	};
	a.setUrlArg = function() {
		if (arguments.length < 2) {
			return
		}
		var d = arguments[0],
			g = Array.prototype.slice.call(arguments),
			c = [d],
			h = "";
		for (var e = 1; e < g.length; e++) {
			var f = g[e];
			if (a.getType(f) === "array") {
				c.push(f[0]);
				if (e > 1) {
					h += "&"
				}
				h += (f[0] + "=" + f[1])
			}
		}
		d = a.removeUrlArg.apply(a, c);
		return a.jointUrlArg(d, h)
	};
	a.removeUrlArg = function() {
		var f = Array.prototype.slice.call(arguments),
			c = f.length;
		if (c < 2) {
			return
		}
		var d = f[0];
		var g = d.split(/[?|&]/);
		var e = g.filter(function(k, h) {
			if (h === 0) {
				return false
			}
			var l = k.split("=")[0];
			for (var j = 1; j < f.length; j++) {
				if (l === f[j]) {
					f.splice(j, 1);
					return false
				}
			}
			return true
		}).join("&");
		d = a.jointUrlArg(g[0], e);
		return d
	};
	a.shuffle = function(e) {
		var d = e.length;
		for (var g = 0; g < d - 1; g++) {
			var c = Math.floor(Math.random() * (d - g));
			var f = e[c];
			e[c] = e[d - g - 1];
			e[d - g - 1] = f
		}
		return e
	};
	(function() {
		a.logStd = c(40, function(d, g) {
			try {
				g = g.slice(0, 2000)
			} catch (f) {}
			$.ajax({
				type: "post",
				url: g_config.ajaxUrl + "logJsErr_h.jsp?cmd=jsLogStd",
				data: {
					msg: "hgLog-" + d + " msg=" + g + " aid=" + g_config.aid + " gameId=" + g_config.gameId + " openId=" + g_config.openId
				},
			})
		});
		a.logErr = c(3, function(d, e) {
			$.ajax({
				type: "post",
				url: g_config.ajaxUrl + "logJsErr_h.jsp?cmd=jsLogErr",
				data: {
					msg: "hgErr-" + d + " msg=" + e + " aid=" + g_config.aid + " gameId=" + g_config.gameId + " openId=" + g_config.openId
				},
			})
		});

		function c(d, e) {
			return function(g, h, f) {
				if (typeof e[g] == "undefined") {
					e[g] = 0
				} else {
					e[g]++
				}
				if (typeof f == "undefined") {
					f = d
				}
				if (f > 0 && e[g] >= f) {
					return
				}
				e(g, h)
			}
		}
	}());
	a.logDog = (function() {
		var d = null,
			c = [];
		return function(f, e) {
			if (g_config.testCMD.indexOf("oss") === -1 && (f !== 1000078 && _manage)) {
				return
			}
			c.push(arguments);
			if (!d) {
				d = setTimeout(function() {
					if (c.length == 1) {
						a.logDogSynch.apply(a, c[0])
					} else {
						c = c.map(function(g, h) {
							var i = {
								id: g[0],
								src: g[1],
							};
							if (!isNaN(g[2])) {
								i.objId = g[2]
							}
							return i
						});
						a.logDogList(c)
					}
					d = null;
					c = []
				}, 0)
			}
		}
	})();
	a.logObjDog = function(e, c, d) {
		a.logDog(e, c, d)
	};
	a.logDogList = function(c) {
		
	};
	a.logDogSynch = function(f, d, e) {
		
	};
	a.bulletparam = {
		wxheadimg: true,
		loop: true,
		gutter: 34,
		autoplay: true,
		isScroll: true
	};
	a.initComment = function(c) {
		$.extend(a.bulletparam, c)
	}
})(HdGame);
HdGame.poupValidate = function(b) {
	if (!$("#spxdPage").hasClass("imp-hide")) {
		$("#spxdPage").addClass("imp-hide")
	}
	if (window.top.$("#valiteInputIframe").length == 0) {
		var a = g_config.ajaxUrl.replace("/ajax/", "");
		$("#validteBoxerBg").data("_theCallBack", b).show();
		$("#validteBoxerBg").append('<iframe id="valiteInputIframe" frameborder="0" scrolling="no" src="' + a + '/poupvalite.jsp" style="height: 25rem; width: 100%;"></iframe>')
	} else {
		$("#validteBoxerBg").data("_theCallBack", b).show()
	}
};
var CUtil = (function() {
	var c = function(e, d) {
			if (d == null) {
				d = e;
				e = 0
			}
			return e + Math.floor(Math.random() * (d - e + 1))
		};
	var a = function(l) {
			var j, d;
			var h = l[0].toUpperCase() + l.slice(1),
				m = ["webkit", "moz", "MS", "ms", "o", ""];
			var e = document.createElement("div"),
				f = e.style;
			var g = 0,
				k = m.length;
			while (g < k) {
				j = m[g];
				d = (j) ? j + h : l;
				if (d in f) {
					return j ? ("-" + j + "-") : ""
				}
				g++
			}
			return undefined
		};
	var b = {
		random: c,
		prefixed: a
	};
	return b
})();
var Comment = (function() {
	var a = HdGame.bulletparam;

	function b(f, d) {
		if (!f || f == "") {
			return
		}
		HdGame.initComment();
		var c = a.lineStyle ? a.lineStyle.splice(0, 1) : "";
		var g = (d * 1.5 + 0.13) + "rem",
			e = '<div class="hdCommentLine" style="top:' + g + ";" + c + '"><div class="hdComment">';
		f.forEach(function(i, h) {
			var j = i.headImg ? "background:url(" + i.headImg + ")  no-repeat #fff;background-size: cover;" : "";
			e += '<div class="hdCommentFloat"><div class="hdCommHeadImg"><span class="hdCommPortrait"  style="' + j + '"></span></div><div class="hdCommContent">' + i.content + "</div></div>"
		});
		e += "</div>";
		if (a.loop) {
			e += '<div class="hdComment">';
			f.forEach(function(i, h) {
				var j = i.headImg ? "background:url(" + i.headImg + ")  no-repeat #fff;background-size: cover;" : "";
				e += '<div class="hdCommentFloat"><div class="hdCommHeadImg"><span class="hdCommPortrait"  style="' + j + '"></span></div><div class="hdCommContent">' + i.content + "</div></div>"
			});
			e += "</div>"
		}
		e += "</div>";
		this.$dom = $(e);
		this.top = g
	}
	b.SPEEDS = [5, 6, 6.5].map(function(c) {
		return $(window).width() / c
	});
	b.prototype.winW = $(window).width();
	b.prototype.reset = function(e) {
		var d = CUtil.random;
		var j = this.winW;
		var l = parseInt(j) + 20;
		var i = 80;
		var k = b.SPEEDS.splice(d(0, b.SPEEDS.length - 1), 1)[0];
		this.v = k ? k : (j / 6);
		var m = this.$dom.find(".hdCommentFloat"),
			h = 0;
		for (var g = 0, f = m.length; g < f; g++) {
			h += Math.ceil(m.width()) + parseInt(m.css("margin-right")) + 50
		}
		if (h < j) {
			h = j
		}
		h = h + (l + i) * 2;
		this.v = (h / 2 + l + i) / this.v;
		var c = this.$dom.find(".hdComment");
		if (a.isScroll) {
			c.eq(0).addClass("hdCommentAnimate");
			c.css({
				"padding-left": l + "px",
				"padding-right": i + "px",
				"animation-duration": this.v + "s",
				"-webkit-animation-duration": this.v + "s"
			});
			setTimeout(function() {
				c.eq(1).addClass("hdCommentAnimate")
			}, (this.v / 2) * 1000)
		}
		c.css({
			width: "50%"
		});
		this.$dom[0].style.top = this.top + "px";
		this.$dom[0].style.width = h + "px";
		this.boundsWidth = j + this.$dom[0].offsetWidth
	};
	return b
})();
var CView = (function() {
	var b = HdGame.bulletparam;

	function a(d) {
		this.eachCommListLen = this.eachCommListLen2 = 0;
		this.VIEW_LINE = [1, 2, 3];
		this.comments = [];
		var c = this;
		this.initCommentBase(c, d);
		if (b.autoplay) {
			$("#hdCommentPanel .replayInput").focus();
			c.$comm_page.hide();
			c.$comm_noshow.hide();
			c.stopAnimation && c.stopAnimation()
		} else {
			c.$comm_show.show()
		}
	}
	a.prototype.initCommentBase = function(c, e) {
		if (e) {
			e = $(e)
		} else {
			e = $("body")
		}
		if ($("#hdCommentOperation").length > 0) {
			return
		}
		var d = '<section id="hdCommentPanel" class="hdCommentPanel"><div class="hdCommentPage"></div></section>';
		e.append(d);
		c.$comm_page = $("#hdCommentPanel .hdCommentPage");
		c.$comm_operation = $("#hdCommentOperation");
		c.$comm_show = $("#hdCommentOperation .commmentShow");
		c.$comm_noshow = $("#hdCommentOperation .commmentNoShow")
	};
	a.prototype.initData = function(d) {
		var e = document.createDocumentFragment(),
			f, c;
		if (d.bulletList.length > d.VIEW_LINE.length) {
			d.VIEW_LINE.forEach(function(i, h) {
				i = d.getSliceData(d);
				f = new Comment(i, h);
				if (!f.$dom) {
					return
				}
				c = f.$dom;
				d.comments.push(f);
				e.appendChild(c[0])
			})
		} else {
			d.VIEW_LINE.forEach(function(i, h) {
				i = d.bulletList.splice(0, 1);
				f = new Comment(i, h);
				if (!f.$dom) {
					return
				}
				c = f.$dom;
				d.comments.push(f);
				e.appendChild(c[0])
			})
		}
		d.$comm_page.append(e);
		d.comments.forEach(function(i, h) {
			i.reset(h)
		});
		if (d.comments.length - 1 > -1) {
			var g = d.comments[d.comments.length - 1].top + d.comments[d.comments.length - 1].$dom.height();
			d.$comm_page.css("height", g + "px")
		}
		d.show()
	};
	a.prototype.getSliceData = function(c) {
		if (!c.bulletList || c.bulletList.length === 0) {
			return
		}
		if (c.eachCommListLen == 0) {
			c.eachCommListLen = Math.floor(c.bulletList.length / c.VIEW_LINE.length) ? Math.floor(c.bulletList.length / c.VIEW_LINE.length) : 1;
			c.eachCommListLen2 = c.bulletList.length % c.VIEW_LINE.length
		}
		var d;
		if (c.eachCommListLen2 > 0) {
			d = c.bulletList.splice(0, c.eachCommListLen + 1);
			c.eachCommListLen2--
		} else {
			d = c.bulletList.splice(0, c.eachCommListLen)
		}
		return d
	};
	a.prototype.getData = function(d, c) {
		c.$comm_page.show();
		c.bulletList = d
	};
	a.prototype.show = function(c) {
		if (this.isActive) {
			return
		}
		this.$comm_page.addClass("show");
		this.isActive = true
	};
	a.prototype.hide = function() {
		var c = this;
		c.$comm_page.removeClass("show");
		this.isActive = false;
		this.stopAnimation && this.stopAnimation()
	};
	return a
})();
var PlayInfo = (function() {
	var h = 0;
	var c = 0;
	var a = 5;
	var b = 10;
	var k = false;

	function m(s, r, q, p, o) {
		h = s;
		c = r;
		a = q;
		b = p;
		k = o;
		n()
	}
	function e() {
		var o = a - h;
		return o > 0 ? o : 0
	}
	function d() {
		if (!k) {
			return 100
		}
		var o = b - c;
		return o > 0 ? o : 0
	}
	function j(o) {
		h += o;
		c += o;
		n()
	}
	function i(o) {
		a += o;
		b += o;
		n()
	}
	function f(o) {
		a = o;
		n()
	}
	function g(o) {
		b = o;
		n()
	}
	function l(o) {
		k = o;
		n()
	}
	function n() {
		$(".todayPlayCount").text(e());
		$(".totalPlayCount").text(d());
		$(".playTimesLimit").text(a);
		$(".playTotalLimit").text(b);
		if (k) {
			$(".dayPlayHint").hide();
			$(".totalPlayHint").show();
			$(".dayPlayHint4Total").show();
			$(".playTotalFont").show()
		} else {
			$(".dayPlayHint").show();
			$(".totalPlayHint").hide();
			$(".dayPlayHint4Total").hide();
			$(".playTotalFont").hide()
		}
	}
	return {
		initData: m,
		getTodayRemainTimes: e,
		getTotalRemainTimes: d,
		addPlayTimes: j,
		addPlayTimesLimit: i,
		setPlayTimesLimit: f,
		setPlayTotalLimit: g,
		setLimitPlay: l
	}
})();